{"links": {"self": {"href": "data/repositories/osrf/sandia-hand/pullrequests/34/comments/485782.json"}, "html": {"href": "#!/osrf/sandia-hand/pull-requests/34/_/diff#comment-485782"}}, "parent": {"id": 477744, "links": {"self": {"href": "data/repositories/osrf/sandia-hand/pullrequests/34/comments/477744.json"}, "html": {"href": "#!/osrf/sandia-hand/pull-requests/34/_/diff#comment-477744"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/osrf/sandia-hand/pullrequests/34.json"}, "html": {"href": "#!/osrf/sandia-hand/pull-requests/34"}}, "title": "catkinize"}, "content": {"raw": "I am trying to figure out how to make xacro a run-time only dependency.  Right now, we are using xacro at build time to expand the full urdf, and install them into gazebo model database style model directories as system targets.  This is necessary if we are including the model files in the world file for gazebo.  But if we switch to dynamically spawning the models in simulation at ros launch time, then it'll be ok to skip xacro expansion at build time.  But this means:\n\n  - Since we are not expanding xacros at compile time, spawning process for xacro-fied models in gazebo is described in [DRCSim RoadMap](http://gazebosim.org/wiki/DRC/Roadmap).\n  - And while skipping install gazebo-style model directories at build time, `sandia_hand_description` will be both a ROS package and a Gazebo Model, holding model resources such as meshes and material scripts.  This is achieved by installing `sandia_hand_description` as a gazebo model that has a fake `model.sdf`, a valid `model.config` as well as all the resources such as visual/collision meshes, materials, etc.  This way, dynamically xacro generated urdf can still find its mesh references via `package://sandia_hand_description/meshes/[mesh].dae`.\n  -  `GAZEBO_MODEL_PATH` is updated in [drcsim setup.sh](#!/osrf/drcsim/src/2593e4a653c459b10dc9a983e39798b982265768/drcsim_model_resources/cmake/setup.sh.in?at=catkin).\n\nJohn\n\n", "markup": "markdown", "html": "<p>I am trying to figure out how to make xacro a run-time only dependency.  Right now, we are using xacro at build time to expand the full urdf, and install them into gazebo model database style model directories as system targets.  This is necessary if we are including the model files in the world file for gazebo.  But if we switch to dynamically spawning the models in simulation at ros launch time, then it'll be ok to skip xacro expansion at build time.  But this means:</p>\n<ul>\n<li>Since we are not expanding xacros at compile time, spawning process for xacro-fied models in gazebo is described in <a data-is-external-link=\"true\" href=\"http://gazebosim.org/wiki/DRC/Roadmap\" rel=\"nofollow\">DRCSim RoadMap</a>.</li>\n<li>And while skipping install gazebo-style model directories at build time, <code>sandia_hand_description</code> will be both a ROS package and a Gazebo Model, holding model resources such as meshes and material scripts.  This is achieved by installing <code>sandia_hand_description</code> as a gazebo model that has a fake <code>model.sdf</code>, a valid <code>model.config</code> as well as all the resources such as visual/collision meshes, materials, etc.  This way, dynamically xacro generated urdf can still find its mesh references via <code>package://sandia_hand_description/meshes/[mesh].dae</code>.</li>\n<li><code>GAZEBO_MODEL_PATH</code> is updated in <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/2593e4a653c459b10dc9a983e39798b982265768/drcsim_model_resources/cmake/setup.sh.in?at=catkin\" rel=\"nofollow\">drcsim setup.sh</a>.</li>\n</ul>\n<p>John</p>", "type": "rendered"}, "created_on": "2013-08-20T21:43:20.313024+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-08-28T22:39:59.560424+00:00", "type": "pullrequest_comment", "id": 485782}