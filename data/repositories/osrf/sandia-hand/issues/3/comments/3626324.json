{"links": {"self": {"href": "data/repositories/osrf/sandia-hand/issues/3/comments/3626324.json"}, "html": {"href": "#!/osrf/sandia-hand/issues/3#comment-3626324"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sandia-hand/issues/3.json"}}, "type": "issue", "id": 3, "repository": {"links": {"self": {"href": "data/repositories/osrf/sandia-hand.json"}, "html": {"href": "#!/osrf/sandia-hand"}, "avatar": {"href": "data/bytebucket.org/ravatar/{ffa260f4-e54c-4b4b-ab64-4d0fc5a90091}ts=default"}}, "type": "repository", "name": "sandia-hand", "full_name": "osrf/sandia-hand", "uuid": "{ffa260f4-e54c-4b4b-ab64-4d0fc5a90091}"}, "title": "Damping extremely large?"}, "content": {"raw": "Doing some tests we have found that it is probably not necessarily to change the inertia parameters to reduce the damping. We were able to grasp the drill using our hand controller with the following changes:\n\n- Reduce damping to 0.1\n- Reduce joint limit gains in the safety_controller from 1000.0 to 100.0\n- Disable maximum velocity, or increase it to a very high number like 1000.0. Due the low inertia, the maximum velocity is easily violated and an unstable behavior arises. I do not think that limiting the finger velocity is necessary for the simulation. \n\n\nIt seems that the joint limits are actually causing the instability.\n\nThe velocity measurement of the finger joints in the simulation is very poor (loads of noise) and it doesn't look like increasing damping solves much there. We use a low-pass filter to measure velocity and have the damping in our PD controller extremely low. \n\nWe also saw the behavior described in this bug report\nhttps://bitbucket.org/osrf/gazebo/issue/622/joint-velocities-are-high-when-the-joint\n\nDepending on how the velocity limits are implemented, this could lead to oscillations on contact with an object.\n\nI uploaded my new urdf.xacro files to my repository, you can find them here\nhttps://bitbucket.org/jespersmith/gazebostatecommunicator/src/4b84fd75562c009abccd8465fdc8d8edf94c9638/launch/models/modifiable?at=default\n\n", "markup": "markdown", "html": "<p>Doing some tests we have found that it is probably not necessarily to change the inertia parameters to reduce the damping. We were able to grasp the drill using our hand controller with the following changes:</p>\n<ul>\n<li>Reduce damping to 0.1</li>\n<li>Reduce joint limit gains in the safety_controller from 1000.0 to 100.0</li>\n<li>Disable maximum velocity, or increase it to a very high number like 1000.0. Due the low inertia, the maximum velocity is easily violated and an unstable behavior arises. I do not think that limiting the finger velocity is necessary for the simulation. </li>\n</ul>\n<p>It seems that the joint limits are actually causing the instability.</p>\n<p>The velocity measurement of the finger joints in the simulation is very poor (loads of noise) and it doesn't look like increasing damping solves much there. We use a low-pass filter to measure velocity and have the damping in our PD controller extremely low. </p>\n<p>We also saw the behavior described in this bug report\n<a href=\"https://bitbucket.org/osrf/gazebo/issue/622/joint-velocities-are-high-when-the-joint\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/issue/622/joint-velocities-are-high-when-the-joint</a></p>\n<p>Depending on how the velocity limits are implemented, this could lead to oscillations on contact with an object.</p>\n<p>I uploaded my new urdf.xacro files to my repository, you can find them here\n<a href=\"https://bitbucket.org/jespersmith/gazebostatecommunicator/src/4b84fd75562c009abccd8465fdc8d8edf94c9638/launch/models/modifiable?at=default\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/jespersmith/gazebostatecommunicator/src/4b84fd75562c009abccd8465fdc8d8edf94c9638/launch/models/modifiable?at=default</a></p>", "type": "rendered"}, "created_on": "2013-04-04T23:03:31.256177+00:00", "user": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "updated_on": null, "type": "issue_comment", "id": 3626324}