{"pagelen": 50, "values": [{"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n\r\n   1. utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n\r\n   1. pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n\r\n   1. *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "0777a3f0042c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/0777a3f0042c.json"}, "html": {"href": "#!/osrf/drcsim/commits/0777a3f0042c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "77b59c055151", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/77b59c055151.json"}, "html": {"href": "#!/osrf/drcsim/commits/77b59c055151"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "MERGED", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-04-04T13:46:12.650160+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"approval": {"date": "2013-04-04T00:14:51.820349+00:00", "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n\r\n   1. utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n\r\n   1. pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n\r\n   1. *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "0777a3f0042c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/0777a3f0042c.json"}, "html": {"href": "#!/osrf/drcsim/commits/0777a3f0042c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "77b59c055151", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/77b59c055151.json"}, "html": {"href": "#!/osrf/drcsim/commits/77b59c055151"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-04-03T23:43:05.430974+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/182643.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-182643"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "content": {"raw": "I just wrote a little script to sum up the mass, and this change adds about 1.5 kg.\n~~~\nxmlstarlet sel -t -v '//link/inertial/mass/@value' atlas_simple_shapes.urdf \\\n  | awk '{ sum += $1 } END { print sum }'\n~~~\nI get 89.001 before this pull request and 90.5924 after.\n", "markup": "markdown", "html": "<p>I just wrote a little script to sum up the mass, and this change adds about 1.5 kg.</p>\n<div class=\"codehilite\"><pre><span></span>xmlstarlet sel -t -v &#39;//link/inertial/mass/@value&#39; atlas_simple_shapes.urdf \\\n  | awk &#39;{ sum += $1 } END { print sum }&#39;\n</pre></div>\n\n\n<p>I get 89.001 before this pull request and 90.5924 after.</p>", "type": "rendered"}, "created_on": "2013-04-03T22:22:16.714848+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-03T22:29:09.150851+00:00", "type": "pullrequest_comment", "id": 182643}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/182598.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-182598"}}, "parent": {"id": 182587, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/182587.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-182587"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "content": {"raw": "it was distributed equally between pelvis and ltorso first, then, pelvis inertia was distributed with `r_uglut` and `l_uglug`.  I have some [scratch code](#!/osrf/drcsim/src/5518f5defa7b68f951a5dbf8118de2d4612bd9ee/ros/atlas_msgs/AtlasPlugin.cpp?at=atlas_analysis#cl-133) if you want to take a look, but I rather not taint reviewer's judgement with my scratch sheets.", "markup": "markdown", "html": "<p>it was distributed equally between pelvis and ltorso first, then, pelvis inertia was distributed with <code>r_uglut</code> and <code>l_uglug</code>.  I have some <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/5518f5defa7b68f951a5dbf8118de2d4612bd9ee/ros/atlas_msgs/AtlasPlugin.cpp?at=atlas_analysis#cl-133\" rel=\"nofollow\">scratch code</a> if you want to take a look, but I rather not taint reviewer's judgement with my scratch sheets.</p>", "type": "rendered"}, "created_on": "2013-04-03T21:56:35.208865+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-04-03T21:56:35.217108+00:00", "type": "pullrequest_comment", "id": 182598}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/182587.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-182587"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "content": {"raw": "I'm going through this point by point. I'm looking at Ixx, Iyy for pelvis and ltorso, and it looks like they're not distributed equally.", "markup": "markdown", "html": "<p>I'm going through this point by point. I'm looking at Ixx, Iyy for pelvis and ltorso, and it looks like they're not distributed equally.</p>", "type": "rendered"}, "created_on": "2013-04-03T21:43:12.497367+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-03T21:43:12.506891+00:00", "type": "pullrequest_comment", "id": 182587}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n\r\n   1. utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n\r\n   1. pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n\r\n   1. *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "0777a3f0042c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/0777a3f0042c.json"}, "html": {"href": "#!/osrf/drcsim/commits/0777a3f0042c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "15a6a27b5661", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/15a6a27b5661.json"}, "html": {"href": "#!/osrf/drcsim/commits/15a6a27b5661"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-04-03T20:54:05.095030+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n   a) utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n   b) pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n   c) *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "ca04fc6bb3d3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/ca04fc6bb3d3.json"}, "html": {"href": "#!/osrf/drcsim/commits/ca04fc6bb3d3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "15a6a27b5661", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/15a6a27b5661.json"}, "html": {"href": "#!/osrf/drcsim/commits/15a6a27b5661"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-04-02T19:45:04.312496+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n   a) utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n   b) pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n   c) *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "ca04fc6bb3d3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/ca04fc6bb3d3.json"}, "html": {"href": "#!/osrf/drcsim/commits/ca04fc6bb3d3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e8d1ffa20829", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/e8d1ffa20829.json"}, "html": {"href": "#!/osrf/drcsim/commits/e8d1ffa20829"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-04-02T19:43:15.479827+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/180311.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-180311"}}, "parent": {"id": 179029, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/179029.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-179029"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "content": {"raw": "Good point, modifying pull request o reflect 1e-5 kg for mass and 1e-6 kg*m^2 for principal MOI's.   Thanks.\n\n", "markup": "markdown", "html": "<p>Good point, modifying pull request o reflect 1e-5 kg for mass and 1e-6 kg*m^2 for principal MOI's.   Thanks.</p>", "type": "rendered"}, "created_on": "2013-04-02T19:43:10.012088+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-04-02T19:43:10.023229+00:00", "type": "pullrequest_comment", "id": 180311}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157/comments/179029.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157/_/diff#comment-179029"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "content": {"raw": "See http://answers.gazebosim.org/question/2150/drcsim-fat-head-random-head-parts-have-too-large/\nfor needed fixes of head mass and moment of inertia values. 7 added parts all have mass = 0.1 and moi = 0.001, which is too much.\n", "markup": "markdown", "html": "<p>See <a href=\"http://answers.gazebosim.org/question/2150/drcsim-fat-head-random-head-parts-have-too-large/\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/2150/drcsim-fat-head-random-head-parts-have-too-large/</a>\nfor needed fixes of head mass and moment of inertia values. 7 added parts all have mass = 0.1 and moi = 0.001, which is too much.</p>", "type": "rendered"}, "created_on": "2013-04-02T04:15:46.699604+00:00", "user": {"display_name": "Chris Atkeson", "uuid": "{3bdaa162-b747-4fa9-9d6e-a2d5c92933c6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3bdaa162-b747-4fa9-9d6e-a2d5c92933c6%7D"}, "html": {"href": "https://bitbucket.org/%7B3bdaa162-b747-4fa9-9d6e-a2d5c92933c6%7D/"}, "avatar": {"href": "https://bitbucket.org/account/catkeson/avatar/"}}, "nickname": "catkeson", "type": "user", "account_id": null}, "updated_on": "2013-04-02T04:15:46.882134+00:00", "type": "pullrequest_comment", "id": 179029}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"approval": {"date": "2013-04-01T02:39:16.562809+00:00", "pullrequest": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}, "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n   a) utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n   b) pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n   c) *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "70e0696b81d5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/70e0696b81d5.json"}, "html": {"href": "#!/osrf/drcsim/commits/70e0696b81d5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c00a472f2287", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/c00a472f2287.json"}, "html": {"href": "#!/osrf/drcsim/commits/c00a472f2287"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-03-21T20:31:51.565901+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}, {"update": {"description": "**Inertia Updates**\r\n\r\nThis inertia updates are based on following algorithm:\r\n\r\n  * In the constrained direction, (fortunately for Atlas, affected principal axis aligns with the link axis),\r\n    Principal Moments of Inertia (MOI) are distributed equally between connected links.  This change should\r\n    have no effect on the dynamics of the overall system (and should probably be performed autonomously\r\n    by LCP solvers in general).\r\n  * In unconstrained directions, limit the mass ratio across connected links to a manually defined ratio.,\r\n    This change does affect CG location and overall inertia of links, but we check to see that\r\n    the overall CG change is not significant.\r\n  * In unconstrained directions, change the MOI so ratio across the joint is limited.\r\n    This is not done in any consistent manner in this commit.  For example, the talus IXX is directly\r\n    set as 0.5 * IXX of foot.\r\n\r\n**Links Affected**\r\n\r\n * There are 3 link chains being updated. In each of these chains, the intermediate link(s) have much smaller inertia than the end links:\r\n   a) utorso <back_ubx> mtorso <back_mby> ltorso <back_lbz> pelvis\r\n      * mass is distributed 5:1 across utorso and mtorso links.  Anticipating utorso link might grow\r\n        significantly with the addition of Atlas power pack.\r\n      * IYY is bewteen utorso and mtorso is distributed equally.\r\n      * IXX of mtorso is set to 0.5 of mtorso IXX.\r\n      * mass is distributed 10:1 across pelvis:ltorso.  Overall CG change is checked to make sure it\u2019s\r\n        not significant (change of 0.409, 0, -0.861mm).\r\n      * IZZ of utorso, mtorso and ltorso distributed equally.\r\n        Overall IZZ of utorso, mtorso, ltorso at lbz is checked to make sure there are no changes.\r\n      * IYY, IXX of pelvis and ltorso are distributed equally, being constrained, should not affect dynamics.\r\n   b) pelvis <*_leg_uhz> *_uglut <*_leg_mhx> *_lglut <*_leg_lhy> *_uleg\r\n      * This adjustment is done after the adjustments in a) are performed.\r\n      * mass is distributed 10:1 between pelvis:uglut, uleg:lglut.  Checking CG shift (-0.405, 0.227, -1.561mm).\r\n      * IZZ distributed equally between uglut, lglut and uleg, and check combined IZZ about uleg/lbz for sanity.\r\n      * IYY distributed equally between pelvis, uglut, lglut, and check combined IYY about pelvis link for sanity.\r\n      * IXX distributed euqally between uglut and pelvis.  Constrained in x, so should have no effect\r\n        on dynamics.  Check combined IXX of pelvis and uglut about lglut(mhx).\r\n      * IXX distributed euqally between lglut and uleg.  Constrained, so should have no effect on dynamics.\r\n        Check combined IXX of lglut and uleg about lglut(mhx).\r\n   c) *_lleg <l_leg_uay> *_talus <l_leg_lax> *_foot\r\n      * mass is distributed between talus and foot link.  Afterwards, CG of both links combined is checked\r\n        to ensure it has not moved much.\r\n      * IYY is distributed equally between talus and foot, given y-direction is constrained, it does\r\n        not really matter how we distribute them.\r\n      * IXX of talus is set to 0.5 * (IXX of foot).  Foot IXX is held constant so same response is expected.\r\n        Combined IXX of foot and talus is check to make sure there are no significant changes (3.67%).\r\n      * IZZ (like IYY) is distributed equally between talus and foot with no impact to simulation dynamics.\r\n\r\n * Also, hokuyo_link of the MultiSense SL sensor has much smaller inertia then its parent link (head).\r\n      * IYY IZZ distributed equally between head and hokuyo_link (being constrained).\r\n      * IXX of hokuyo_link is set to 1/10 of head and hokuyo_link combined IXX.\r\n", "title": "=== Inertia Updates ===", "destination": {"commit": {"hash": "70e0696b81d5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/70e0696b81d5.json"}, "html": {"href": "#!/osrf/drcsim/commits/70e0696b81d5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c00a472f2287", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/c00a472f2287.json"}, "html": {"href": "#!/osrf/drcsim/commits/c00a472f2287"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "atlas_inertia_tweaks"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2013-03-21T20:31:51.462460+00:00"}, "pull_request": {"type": "pullrequest", "id": 157, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/157.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/157"}}, "title": "=== Inertia Updates ==="}}]}