{"rendered": {"description": {"raw": "Without this fix, the following sequence can happen:\r\n\r\n 1. Subscribe via ROS to left camera.\r\n 1. Subscribe via ROS to right camera.\r\n 1. Kill the left subscriber.\r\n 1. The right subscriber stops receiving images.\r\n\r\nLeft/right doesn't matter; the key is that you start two subscribers, one for each camera, then kill the first subscriber.\r\n\r\nThe fix is kind of ugly, in that I'm just making some of the state variables in `GazeboRosCameraUtils` into shared pointers and setting them to point to the same locations from within `GazeboRosMultiCamera`.  It would be better to push this bookkeping logic into the underlying Gazebo sensor.  But this should work for now, and there's a test (which fails without this fix).", "markup": "markdown", "html": "<p>Without this fix, the following sequence can happen:</p>\n<ol>\n<li>Subscribe via ROS to left camera.</li>\n<li>Subscribe via ROS to right camera.</li>\n<li>Kill the left subscriber.</li>\n<li>The right subscriber stops receiving images.</li>\n</ol>\n<p>Left/right doesn't matter; the key is that you start two subscribers, one for each camera, then kill the first subscriber.</p>\n<p>The fix is kind of ugly, in that I'm just making some of the state variables in <code>GazeboRosCameraUtils</code> into shared pointers and setting them to point to the same locations from within <code>GazeboRosMultiCamera</code>.  It would be better to push this bookkeping logic into the underlying Gazebo sensor.  But this should work for now, and there's a test (which fails without this fix).</p>", "type": "rendered"}, "title": {"raw": "fixes issue #217 (camera subscription problems)", "markup": "markdown", "html": "<p>fixes issue <a href=\"#!/osrf/drcsim/issues/217/multisense-camera-becomes-inactive-when\" rel=\"nofollow\" title=\"MultiSense camera becomes inactive when unsubscribing from one camera\" class=\"ap-connect-link\"><s>#217</s></a> (camera subscription problems)</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Without this fix, the following sequence can happen:\r\n\r\n 1. Subscribe via ROS to left camera.\r\n 1. Subscribe via ROS to right camera.\r\n 1. Kill the left subscriber.\r\n 1. The right subscriber stops receiving images.\r\n\r\nLeft/right doesn't matter; the key is that you start two subscribers, one for each camera, then kill the first subscriber.\r\n\r\nThe fix is kind of ugly, in that I'm just making some of the state variables in `GazeboRosCameraUtils` into shared pointers and setting them to point to the same locations from within `GazeboRosMultiCamera`.  It would be better to push this bookkeping logic into the underlying Gazebo sensor.  But this should work for now, and there's a test (which fails without this fix).", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/pullrequests/332/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/diffstat/osrf/drcsim:f013d5d75af1%0D9d5910e76666?from_pullrequest_id=332"}, "commits": {"href": "data/repositories/osrf/drcsim/pullrequests/332/commits.json"}, "self": {"href": "data/repositories/osrf/drcsim/pullrequests/332.json"}, "comments": {"href": "data/repositories/osrf/drcsim/pullrequests/332/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/pullrequests/332/merge"}, "html": {"href": "#!/osrf/drcsim/pull-requests/332"}, "activity": {"href": "data/repositories/osrf/drcsim/pullrequests/332/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/diff/osrf/drcsim:f013d5d75af1%0D9d5910e76666?from_pullrequest_id=332"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/pullrequests/332/approve"}, "statuses": {"href": "data/repositories/osrf/drcsim/pullrequests/332/statuses_page=1.json"}}, "title": "fixes issue #217 (camera subscription problems)", "close_source_branch": true, "reviewers": [], "id": 332, "destination": {"commit": {"hash": "9d5910e76666", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/9d5910e76666.json"}, "html": {"href": "#!/osrf/drcsim/commits/9d5910e76666"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "drcsim_2.6"}}, "created_on": "2013-05-27T23:15:17.060424+00:00", "summary": {"raw": "Without this fix, the following sequence can happen:\r\n\r\n 1. Subscribe via ROS to left camera.\r\n 1. Subscribe via ROS to right camera.\r\n 1. Kill the left subscriber.\r\n 1. The right subscriber stops receiving images.\r\n\r\nLeft/right doesn't matter; the key is that you start two subscribers, one for each camera, then kill the first subscriber.\r\n\r\nThe fix is kind of ugly, in that I'm just making some of the state variables in `GazeboRosCameraUtils` into shared pointers and setting them to point to the same locations from within `GazeboRosMultiCamera`.  It would be better to push this bookkeping logic into the underlying Gazebo sensor.  But this should work for now, and there's a test (which fails without this fix).", "markup": "markdown", "html": "<p>Without this fix, the following sequence can happen:</p>\n<ol>\n<li>Subscribe via ROS to left camera.</li>\n<li>Subscribe via ROS to right camera.</li>\n<li>Kill the left subscriber.</li>\n<li>The right subscriber stops receiving images.</li>\n</ol>\n<p>Left/right doesn't matter; the key is that you start two subscribers, one for each camera, then kill the first subscriber.</p>\n<p>The fix is kind of ugly, in that I'm just making some of the state variables in <code>GazeboRosCameraUtils</code> into shared pointers and setting them to point to the same locations from within <code>GazeboRosMultiCamera</code>.  It would be better to push this bookkeping logic into the underlying Gazebo sensor.  But this should work for now, and there's a test (which fails without this fix).</p>", "type": "rendered"}, "source": {"commit": {"hash": "000b190cf515", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/000b190cf515.json"}, "html": {"href": "#!/osrf/drcsim/commits/000b190cf515"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "branch": {"name": "issue_217"}}, "comment_count": 4, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2013-05-28T22:04:42.454946+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2013-05-28T21:18:37.215055+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2013-05-28T00:45:19.627346+00:00", "type": "participant", "approved": false, "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}}, {"role": "PARTICIPANT", "participated_on": "2013-05-28T22:14:21.203567+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2013-05-29T00:07:20.304741+00:00", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "merge_commit": {"hash": "f013d5d75af1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/drcsim/commit/f013d5d75af1.json"}, "html": {"href": "#!/osrf/drcsim/commits/f013d5d75af1"}}}, "closed_by": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}}