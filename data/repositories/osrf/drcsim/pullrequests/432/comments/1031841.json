{"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/432/comments/1031841.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/432/_/diff#comment-1031841"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 432, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/432.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/432"}}, "title": "Update to atlas_v3"}, "content": {"raw": "`atlas_v3.urdf` was intended to define just the body skeleton, whereas [`atlas_v3.urdf.xacro` in the assembled robots directory](#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/atlas_description/robots/atlas_v3.urdf.xacro?at=default#cl-5) includes the [MultiSense SL head urdf](#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/multisense_sl_description/urdf/multisense_sl_v3.urdf?at=default) which defines a `head` link already.  So this inclusion should not be necessary.\n\nNormally one does something like below to expand the [*.xacro](http://ros.org/wiki/xacro) file and get the full robot urdf:\n~~~\nrosrun xacro xacro `rospack find atlas_description`/robots/atlas_v3.urdf.xacro > atlas_v3_full_urdf\n~~~\n\nAlternatively, in the current drcsim setup, we [upload a complete robot assembly into ros parameter server](#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_gazebo/launch/atlas_v3.launch?at=default#cl-26):\n~~~\n  <param name=\"robot_description\" command=\"$(find xacro)/xacro.py '$(find atlas_description)/robots/atlas_v3.urdf.xacro'\" />\n~~~\nfor spawning in simulation. When [gazebo is started via a ros launch file](#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_gazebo/launch/atlas_no_controllers.launch?at=default#cl-9), the [VRCPlugin referenced by `atlas.world`](#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_model_resources/worlds/atlas.world?at=default#cl-30) does the job of [robot spawning](#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp?at=default#cl-879).\n", "markup": "markdown", "html": "<p><code>atlas_v3.urdf</code> was intended to define just the body skeleton, whereas <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/atlas_description/robots/atlas_v3.urdf.xacro?at=default#cl-5\" rel=\"nofollow\"><code>atlas_v3.urdf.xacro</code> in the assembled robots directory</a> includes the <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/multisense_sl_description/urdf/multisense_sl_v3.urdf?at=default\" rel=\"nofollow\">MultiSense SL head urdf</a> which defines a <code>head</code> link already.  So this inclusion should not be necessary.</p>\n<p>Normally one does something like below to expand the <a data-is-external-link=\"true\" href=\"http://ros.org/wiki/xacro\" rel=\"nofollow\">*.xacro</a> file and get the full robot urdf:</p>\n<div class=\"codehilite\"><pre><span></span>rosrun xacro xacro `rospack find atlas_description`/robots/atlas_v3.urdf.xacro &gt; atlas_v3_full_urdf\n</pre></div>\n\n\n<p>Alternatively, in the current drcsim setup, we <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_gazebo/launch/atlas_v3.launch?at=default#cl-26\" rel=\"nofollow\">upload a complete robot assembly into ros parameter server</a>:</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;param name=&quot;robot_description&quot; command=&quot;$(find xacro)/xacro.py &#39;$(find atlas_description)/robots/atlas_v3.urdf.xacro&#39;&quot; /&gt;\n</pre></div>\n\n\n<p>for spawning in simulation. When <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_gazebo/launch/atlas_no_controllers.launch?at=default#cl-9\" rel=\"nofollow\">gazebo is started via a ros launch file</a>, the <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_model_resources/worlds/atlas.world?at=default#cl-30\" rel=\"nofollow\">VRCPlugin referenced by <code>atlas.world</code></a> does the job of <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/d2a6ce1eff5fbaf9f66587879aa3190195d54180/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp?at=default#cl-879\" rel=\"nofollow\">robot spawning</a>.</p>", "type": "rendered"}, "created_on": "2014-01-08T21:45:08.446196+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {"to": 2, "from": null, "outdated": false, "path": "atlas_description/urdf/atlas_v3.urdf"}, "updated_on": "2014-01-08T21:45:08.455161+00:00", "type": "pullrequest_comment", "id": 1031841}