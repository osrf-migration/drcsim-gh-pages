{"links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/408/comments/1104590.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/408/_/diff#comment-1104590"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 408, "links": {"self": {"href": "data/repositories/osrf/drcsim/pullrequests/408.json"}, "html": {"href": "#!/osrf/drcsim/pull-requests/408"}}, "title": "Add standalone versions of models"}, "content": {"raw": "Looking at generated\n~~~\n<install_prefix>/share/atlas_description/standalone_models/atlas_v3/atlas_v3.urdf\n~~~\n\nRoughly half of the `package://atlas_description/` references have been converted to `package://atlas`, which is weird:\n~~~\n  <link name=\"l_clav\">\n    <inertial>\n      <mass value=\"3.45\"/>\n      <origin rpy=\"0 -0 0\" xyz=\"0 0.048 0.084\"/>\n      <inertia ixx=\"0.011\" ixy=\"0\" ixz=\"0\" iyy=\"0.009\" iyz=\"-0.004\" izz=\"0.004\"/>\n    </inertial>\n    <visual>\n      <origin rpy=\"0 -0 0\" xyz=\"0 0 0\"/>\n      <geometry>\n        <mesh filename=\"package://atlas/meshes_v3/l_clav.DAE\" scale=\"1 1 1\"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin rpy=\"0 -0 0\" xyz=\"0 0 0\"/>\n      <geometry>\n        <mesh filename=\"package://atlas_description/meshes_v3/l_clav.DAE\" scale=\"1 1 1\"/>\n      </geometry>\n    </collision>\n  </link>\n~~~\nWe should skip all the search replaces of `atlas_description` with `atlas` since `atlas_description` is exported by `GAZEBO_MODEL_PATH` as well and has a valid `model.config`.\n\nAlong the same line of thought, it is not necessary to install `meshes` and `materials` directories directly into `atlas` sdf model; i.e. remove install target to:\n~~~\n<install_prefix>/share/atlas_description/standalone_models/atlas/meshes\n<install_prefix>/share/atlas_description/standalone_models/atlas/materials\n~~~", "markup": "markdown", "html": "<p>Looking at generated</p>\n<div class=\"codehilite\"><pre><span></span>&lt;install_prefix&gt;/share/atlas_description/standalone_models/atlas_v3/atlas_v3.urdf\n</pre></div>\n\n\n<p>Roughly half of the <code>package://atlas_description/</code> references have been converted to <code>package://atlas</code>, which is weird:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;l_clav&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;inertial&gt;</span>\n      <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;3.45&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 -0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0.048 0.084&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;inertia</span> <span class=\"na\">ixx=</span><span class=\"s\">&quot;0.011&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">ixz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">iyy=</span><span class=\"s\">&quot;0.009&quot;</span> <span class=\"na\">iyz=</span><span class=\"s\">&quot;-0.004&quot;</span> <span class=\"na\">izz=</span><span class=\"s\">&quot;0.004&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/inertial&gt;</span>\n    <span class=\"nt\">&lt;visual&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 -0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;mesh</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;package://atlas/meshes_v3/l_clav.DAE&quot;</span> <span class=\"na\">scale=</span><span class=\"s\">&quot;1 1 1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;collision&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 -0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;mesh</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;package://atlas_description/meshes_v3/l_clav.DAE&quot;</span> <span class=\"na\">scale=</span><span class=\"s\">&quot;1 1 1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/collision&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n</pre></div>\n\n\n<p>We should skip all the search replaces of <code>atlas_description</code> with <code>atlas</code> since <code>atlas_description</code> is exported by <code>GAZEBO_MODEL_PATH</code> as well and has a valid <code>model.config</code>.</p>\n<p>Along the same line of thought, it is not necessary to install <code>meshes</code> and <code>materials</code> directories directly into <code>atlas</code> sdf model; i.e. remove install target to:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;install_prefix&gt;/share/atlas_description/standalone_models/atlas/meshes\n&lt;install_prefix&gt;/share/atlas_description/standalone_models/atlas/materials\n</pre></div>", "type": "rendered"}, "created_on": "2014-01-23T02:09:24.000642+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-01-23T02:11:44.533540+00:00", "type": "pullrequest_comment", "id": 1104590}