{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/434/comments/12519997.json"}, "html": {"href": "#!/osrf/drcsim/issues/434#comment-12519997"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/434.json"}}, "type": "issue", "id": 434, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Boost mutex error"}, "content": {"raw": "It's tough to give an error message for this because it fails at such a low level of gazebo. If I roslaunch with `--verbose`:\n~~~\n$ roslaunch drcsim_gazebo atlas.launch extra_gazebo_args:=\"--verbose -u\"\n...\n[Err] [Server.cc:284] Could not open file[atlas.world]\ngzserver: /usr/include/boost/thread/pthread/recursive_mutex.hpp:101: boost::recursive_mutex::~recursive_mutex(): Assertion `!pthread_mutex_destroy(&m)' failed.\n~~~\nit complains about not being able to find the world file. It also won't be able to find any of the plugins, so we can't put an error message there.\n\nFor reference, here's the backtrace from that mutex assertion on my trusty machine. It seems to involve CEGUI.\n~~~\nProgram received signal SIGABRT, Aborted.\n0x00007ffff4f1cbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff4f1cbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff4f1ffc8 in __GI_abort () at abort.c:89\n#2  0x00007ffff4f15a76 in __assert_fail_base (fmt=0x7ffff5067370 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", \n    assertion=assertion@entry=0x7fffe85c4665 \"!pthread_mutex_destroy(&m)\", \n    file=file@entry=0x7fffe85c46e8 \"/usr/include/boost/thread/pthread/recursive_mutex.hpp\", line=line@entry=101, \n    function=function@entry=0x7fffe85c4f20 \"boost::recursive_mutex::~recursive_mutex()\") at assert.c:92\n#3  0x00007ffff4f15b22 in __GI___assert_fail (assertion=0x7fffe85c4665 \"!pthread_mutex_destroy(&m)\", \n    file=0x7fffe85c46e8 \"/usr/include/boost/thread/pthread/recursive_mutex.hpp\", line=101, \n    function=0x7fffe85c4f20 \"boost::recursive_mutex::~recursive_mutex()\") at assert.c:101\n#4  0x00007fffe85b9da1 in boost::recursive_mutex::~recursive_mutex() () from /usr/lib/libCEGUIOgreRenderer-0.7.6.so\n#5  0x00007ffff4f22149 in __run_exit_handlers (status=-1, listp=0x7ffff52a56c8 <__exit_funcs>, \n    run_list_atexit=run_list_atexit@entry=true) at exit.c:82\n#6  0x00007ffff4f22195 in __GI_exit (status=<optimized out>) at exit.c:104\n#7  0x00007ffff4f07ecc in __libc_start_main (main=0x40cf30, argc=7, argv=0x7fffffffd998, init=<optimized out>, \n    fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffd988) at libc-start.c:321\n#8  0x000000000040ee18 in _start ()\n~~~", "markup": "markdown", "html": "<p>It's tough to give an error message for this because it fails at such a low level of gazebo. If I roslaunch with <code>--verbose</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ roslaunch drcsim_gazebo atlas.launch extra_gazebo_args:<span class=\"o\">=</span><span class=\"s2\">&quot;--verbose -u&quot;</span>\n...\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Server.cc:284<span class=\"o\">]</span> Could not open file<span class=\"o\">[</span>atlas.world<span class=\"o\">]</span>\ngzserver: /usr/include/boost/thread/pthread/recursive_mutex.hpp:101: boost::recursive_mutex::~recursive_mutex<span class=\"o\">()</span>: Assertion <span class=\"sb\">`</span>!pthread_mutex_destroy<span class=\"o\">(</span><span class=\"p\">&amp;</span>m<span class=\"o\">)</span><span class=\"err\">&#39;</span> failed.\n</pre></div>\n\n\n<p>it complains about not being able to find the world file. It also won't be able to find any of the plugins, so we can't put an error message there.</p>\n<p>For reference, here's the backtrace from that mutex assertion on my trusty machine. It seems to involve CEGUI.</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGABRT, Aborted.\n0x00007ffff4f1cbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff4f1cbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff4f1ffc8 in __GI_abort () at abort.c:89\n#2  0x00007ffff4f15a76 in __assert_fail_base (fmt=0x7ffff5067370 &quot;%s%s%s:%u: %s%sAssertion `%s&#39; failed.\\n%n&quot;, \n    assertion=assertion@entry=0x7fffe85c4665 &quot;!pthread_mutex_destroy(&amp;m)&quot;, \n    file=file@entry=0x7fffe85c46e8 &quot;/usr/include/boost/thread/pthread/recursive_mutex.hpp&quot;, line=line@entry=101, \n    function=function@entry=0x7fffe85c4f20 &quot;boost::recursive_mutex::~recursive_mutex()&quot;) at assert.c:92\n#3  0x00007ffff4f15b22 in __GI___assert_fail (assertion=0x7fffe85c4665 &quot;!pthread_mutex_destroy(&amp;m)&quot;, \n    file=0x7fffe85c46e8 &quot;/usr/include/boost/thread/pthread/recursive_mutex.hpp&quot;, line=101, \n    function=0x7fffe85c4f20 &quot;boost::recursive_mutex::~recursive_mutex()&quot;) at assert.c:101\n#4  0x00007fffe85b9da1 in boost::recursive_mutex::~recursive_mutex() () from /usr/lib/libCEGUIOgreRenderer-0.7.6.so\n#5  0x00007ffff4f22149 in __run_exit_handlers (status=-1, listp=0x7ffff52a56c8 &lt;__exit_funcs&gt;, \n    run_list_atexit=run_list_atexit@entry=true) at exit.c:82\n#6  0x00007ffff4f22195 in __GI_exit (status=&lt;optimized out&gt;) at exit.c:104\n#7  0x00007ffff4f07ecc in __libc_start_main (main=0x40cf30, argc=7, argv=0x7fffffffd998, init=&lt;optimized out&gt;, \n    fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, stack_end=0x7fffffffd988) at libc-start.c:321\n#8  0x000000000040ee18 in _start ()\n</pre></div>", "type": "rendered"}, "created_on": "2014-09-23T17:36:56.893871+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 12519997}