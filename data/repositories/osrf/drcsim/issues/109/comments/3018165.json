{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/109/comments/3018165.json"}, "html": {"href": "#!/osrf/drcsim/issues/109#comment-3018165"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/109.json"}}, "type": "issue", "id": 109, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris rotating while stationary"}, "content": {"raw": "With brakes engaged (doesn't matter which ones, both go into the same equation): http://i.imgur.com/KeOiKMd.png\nWith brakes disengaged: http://i.imgur.com/pZaw5iE.png\n\nAs you can see, while brakes are applied in a resting state, torque is continuously switching between negative and positive torque (the print blocks start with fl and end with br). Additionally a small gas torque is applied which I'm guessing is a result of gravity + very sensitive pedals. My guess is that the car stays sorta-stationary by switching between positive and negative brake torque each timestep, but due to small differences in time-steps, a small positive gas torque due to gravity, and not all wheels having the same torque at each time step (sometimes 3 wheels have a positive or negative torque while the 4th wheel has a torque in the opposite direction when using an all-wheel drive, see [1], and with rear-wheel drive sometimes (?) opposite torque is applied to front and back wheels, see [2]) the vehicle starts drifting more than it already does without brakes engaged.\n\n\n\n[1] (all-wheel drive)\n\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0.57488) + flBrakeTorque (2000) = 2000.57\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0.57488) + frBrakeTorque (2000) = 2000.57\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.57488) + blBrakeTorque (2000) = 2000.57\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.57488) + brBrakeTorque (2000) = 2000.57\n    Error [DRCVehiclePlugin.cc:577] ============\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0.714655) + flBrakeTorque (-2000) = -1999.29\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0.714655) + frBrakeTorque (-2000) = -1999.29\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.714655) + blBrakeTorque (-2000) = -1999.29\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.714655) + brBrakeTorque (-2000) = -1999.29\n    Error [DRCVehiclePlugin.cc:577] ============ \n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0.590203) + flBrakeTorque (2000) = 2000.59\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0.590203) + frBrakeTorque (2000) = 2000.59\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.590203) + blBrakeTorque (-2000) = -1999.41\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.590203) + brBrakeTorque (2000) = 2000.59\n    Error [DRCVehiclePlugin.cc:577] ============\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0.645171) + flBrakeTorque (-2000) = -1999.35\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0.645171) + frBrakeTorque (-2000) = -1999.35\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.645171) + blBrakeTorque (2000) = 2000.65\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.645171) + brBrakeTorque (-2000) = -1999.35\n    Error [DRCVehiclePlugin.cc:577] ============\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0.714846) + flBrakeTorque (2000) = 2000.71\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0.714846) + frBrakeTorque (2000) = 2000.71\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.714846) + blBrakeTorque (-2000) = -1999.29\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.714846) + brBrakeTorque (2000) = 2000.71\n    Error [DRCVehiclePlugin.cc:577] ============\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0.96353) + flBrakeTorque (-2000) = -1999.04\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0.96353) + frBrakeTorque (-2000) = -1999.04\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.96353) + blBrakeTorque (2000) = 2000.96\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.96353) + brBrakeTorque (-2000) = -1999.04\n\n\n[2] (rear-wheel drive)\n\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (-0) + flBrakeTorque (2000) = 2000\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (-0) + frBrakeTorque (2000) = 2000\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (-0.0522787) + blBrakeTorque (-2000) = -2000.05\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (-0.0522787) + brBrakeTorque (-2000) = -2000.05\n    Error [DRCVehiclePlugin.cc:577] ============\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0) + flBrakeTorque (-2000) = -2000\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0) + frBrakeTorque (-2000) = -2000\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.0352568) + blBrakeTorque (2000) = 2000.04\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.0352568) + brBrakeTorque (2000) = 2000.04\n    Error [DRCVehiclePlugin.cc:577] ============\n    Error [DRCVehiclePlugin.cc:572] ============\n    Error [DRCVehiclePlugin.cc:573] flGasTorque (0) + flBrakeTorque (2000) = 2000\n    Error [DRCVehiclePlugin.cc:574] frGasTorque (0) + frBrakeTorque (2000) = 2000\n    Error [DRCVehiclePlugin.cc:575] blGasTorque (0.0805349) + blBrakeTorque (-2000) = -1999.92\n    Error [DRCVehiclePlugin.cc:576] brGasTorque (0.0805349) + brBrakeTorque (-2000) = -1999.92", "markup": "markdown", "html": "<p>With brakes engaged (doesn't matter which ones, both go into the same equation): <a href=\"http://i.imgur.com/KeOiKMd.png\" rel=\"nofollow\" class=\"ap-connect-link\">http://i.imgur.com/KeOiKMd.png</a>\nWith brakes disengaged: <a href=\"http://i.imgur.com/pZaw5iE.png\" rel=\"nofollow\" class=\"ap-connect-link\">http://i.imgur.com/pZaw5iE.png</a></p>\n<p>As you can see, while brakes are applied in a resting state, torque is continuously switching between negative and positive torque (the print blocks start with fl and end with br). Additionally a small gas torque is applied which I'm guessing is a result of gravity + very sensitive pedals. My guess is that the car stays sorta-stationary by switching between positive and negative brake torque each timestep, but due to small differences in time-steps, a small positive gas torque due to gravity, and not all wheels having the same torque at each time step (sometimes 3 wheels have a positive or negative torque while the 4th wheel has a torque in the opposite direction when using an all-wheel drive, see [1], and with rear-wheel drive sometimes (?) opposite torque is applied to front and back wheels, see [2]) the vehicle starts drifting more than it already does without brakes engaged.</p>\n<p>[1] (all-wheel drive)</p>\n<div class=\"codehilite\"><pre><span></span>Error [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0.57488) + flBrakeTorque (2000) = 2000.57\nError [DRCVehiclePlugin.cc:574] frGasTorque (0.57488) + frBrakeTorque (2000) = 2000.57\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.57488) + blBrakeTorque (2000) = 2000.57\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.57488) + brBrakeTorque (2000) = 2000.57\nError [DRCVehiclePlugin.cc:577] ============\nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0.714655) + flBrakeTorque (-2000) = -1999.29\nError [DRCVehiclePlugin.cc:574] frGasTorque (0.714655) + frBrakeTorque (-2000) = -1999.29\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.714655) + blBrakeTorque (-2000) = -1999.29\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.714655) + brBrakeTorque (-2000) = -1999.29\nError [DRCVehiclePlugin.cc:577] ============ \nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0.590203) + flBrakeTorque (2000) = 2000.59\nError [DRCVehiclePlugin.cc:574] frGasTorque (0.590203) + frBrakeTorque (2000) = 2000.59\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.590203) + blBrakeTorque (-2000) = -1999.41\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.590203) + brBrakeTorque (2000) = 2000.59\nError [DRCVehiclePlugin.cc:577] ============\nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0.645171) + flBrakeTorque (-2000) = -1999.35\nError [DRCVehiclePlugin.cc:574] frGasTorque (0.645171) + frBrakeTorque (-2000) = -1999.35\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.645171) + blBrakeTorque (2000) = 2000.65\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.645171) + brBrakeTorque (-2000) = -1999.35\nError [DRCVehiclePlugin.cc:577] ============\nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0.714846) + flBrakeTorque (2000) = 2000.71\nError [DRCVehiclePlugin.cc:574] frGasTorque (0.714846) + frBrakeTorque (2000) = 2000.71\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.714846) + blBrakeTorque (-2000) = -1999.29\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.714846) + brBrakeTorque (2000) = 2000.71\nError [DRCVehiclePlugin.cc:577] ============\nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0.96353) + flBrakeTorque (-2000) = -1999.04\nError [DRCVehiclePlugin.cc:574] frGasTorque (0.96353) + frBrakeTorque (-2000) = -1999.04\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.96353) + blBrakeTorque (2000) = 2000.96\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.96353) + brBrakeTorque (-2000) = -1999.04\n</pre></div>\n\n\n<p>[2] (rear-wheel drive)</p>\n<div class=\"codehilite\"><pre><span></span>Error [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (-0) + flBrakeTorque (2000) = 2000\nError [DRCVehiclePlugin.cc:574] frGasTorque (-0) + frBrakeTorque (2000) = 2000\nError [DRCVehiclePlugin.cc:575] blGasTorque (-0.0522787) + blBrakeTorque (-2000) = -2000.05\nError [DRCVehiclePlugin.cc:576] brGasTorque (-0.0522787) + brBrakeTorque (-2000) = -2000.05\nError [DRCVehiclePlugin.cc:577] ============\nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0) + flBrakeTorque (-2000) = -2000\nError [DRCVehiclePlugin.cc:574] frGasTorque (0) + frBrakeTorque (-2000) = -2000\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.0352568) + blBrakeTorque (2000) = 2000.04\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.0352568) + brBrakeTorque (2000) = 2000.04\nError [DRCVehiclePlugin.cc:577] ============\nError [DRCVehiclePlugin.cc:572] ============\nError [DRCVehiclePlugin.cc:573] flGasTorque (0) + flBrakeTorque (2000) = 2000\nError [DRCVehiclePlugin.cc:574] frGasTorque (0) + frBrakeTorque (2000) = 2000\nError [DRCVehiclePlugin.cc:575] blGasTorque (0.0805349) + blBrakeTorque (-2000) = -1999.92\nError [DRCVehiclePlugin.cc:576] brGasTorque (0.0805349) + brBrakeTorque (-2000) = -1999.92\n</pre></div>", "type": "rendered"}, "created_on": "2013-02-02T01:42:14.430940+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 3018165}