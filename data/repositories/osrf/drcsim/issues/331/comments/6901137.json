{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/331/comments/6901137.json"}, "html": {"href": "#!/osrf/drcsim/issues/331#comment-6901137"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/331.json"}}, "type": "issue", "id": 331, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "DRC vehicle commands unresponsive"}, "content": {"raw": "The problem is that you're publishing a message to a topic immediately after advertising that topic.  It can take some time for subscribers to hear about your new publisher and then connect to it.  If you publish messages in the meantime, they're effectively dropped on the floor because there aren't any subscribers there to hear them.\n\nSome options:\n\n* wait (e.g., sleep) after calling `advertise()`, before calling `publish()`\n* make your publishers latching by passing `true` as the [third argument to advertise()](http://wiki.ros.org/roscpp/Overview/Publishers%20and%20Subscribers#Publisher_Options); you're already doing this for your `drc_world/robot_enter_car` publisher\n* call the [form of advertise()](http://docs.ros.org/api/roscpp/html/classros_1_1NodeHandle.html#ae4711ef282892176ba145d02f8f45f8d) that allows you to register subscriber connection/disconnection callbacks; use those callback to delay publishing until after you have at least one subscriber connected", "markup": "markdown", "html": "<p>The problem is that you're publishing a message to a topic immediately after advertising that topic.  It can take some time for subscribers to hear about your new publisher and then connect to it.  If you publish messages in the meantime, they're effectively dropped on the floor because there aren't any subscribers there to hear them.</p>\n<p>Some options:</p>\n<ul>\n<li>wait (e.g., sleep) after calling <code>advertise()</code>, before calling <code>publish()</code></li>\n<li>make your publishers latching by passing <code>true</code> as the <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/roscpp/Overview/Publishers%20and%20Subscribers#Publisher_Options\" rel=\"nofollow\">third argument to advertise()</a>; you're already doing this for your <code>drc_world/robot_enter_car</code> publisher</li>\n<li>call the <a data-is-external-link=\"true\" href=\"http://docs.ros.org/api/roscpp/html/classros_1_1NodeHandle.html#ae4711ef282892176ba145d02f8f45f8d\" rel=\"nofollow\">form of advertise()</a> that allows you to register subscriber connection/disconnection callbacks; use those callback to delay publishing until after you have at least one subscriber connected</li>\n</ul>", "type": "rendered"}, "created_on": "2013-11-14T20:41:33.466379+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 6901137}