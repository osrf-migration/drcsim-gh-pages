{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/431/comments/12127764.json"}, "html": {"href": "#!/osrf/drcsim/issues/431#comment-12127764"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/431.json"}}, "type": "issue", "id": 431, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Isolated builds broken on default branch"}, "content": {"raw": "The problem was caused by the non inclusion of the binary blob in the source code any more, so we can not use the `${ATLAS_INTERFACE_PROJECT_PATH}/lib64/` in [CMakeLists.txt](#!/osrf/drcsim/pull-request/447/update-to-libatlassiminterface-2102-and/diff#Ldrcsim_gazebo_ros_plugins/CMakeLists.txtF105T83).\n\nA quick fix would be:\n\n```\ndiff -r f573beabd413 drcsim_gazebo_ros_plugins/CMakeLists.txt\n--- a/drcsim_gazebo_ros_plugins/CMakeLists.txt\tFri Aug 29 19:15:20 2014 -0700\n+++ b/drcsim_gazebo_ros_plugins/CMakeLists.txt\tWed Sep 03 03:23:00 2014 +0200\n@@ -80,8 +80,8 @@\n target_link_libraries(ContactModelPlugin ${catkin_LIBRARIES})\n \n add_library(AtlasPlugin src/AtlasPlugin.cpp)\n-set_target_properties(AtlasPlugin PROPERTIES LINK_FLAGS \"-L${ATLAS_INTERFACE_PROJECT_PATH}/lib64/\")\n set_target_properties(AtlasPlugin PROPERTIES COMPILE_FLAGS \"-I${ATLAS_INTERFACE_PROJECT_PATH}/include\")\n+set_target_properties(AtlasPlugin PROPERTIES LINK_FLAGS \"-L${drcsim_model_resources_DEVEL_PREFIX}/lib\")\n target_link_libraries(AtlasPlugin ${catkin_LIBRARIES} AtlasSimInterface)\n add_dependencies(AtlasPlugin atlas_msgs_gencpp AtlasSimInterface_include AtlasSimInterface_lib)\n\n``` \n\nAlthough I would be happier using the following (non working):\n\n```\ndiff -r f573beabd413 drcsim_gazebo_ros_plugins/CMakeLists.txt\n--- a/drcsim_gazebo_ros_plugins/CMakeLists.txt\tFri Aug 29 19:15:20 2014 -0700\n+++ b/drcsim_gazebo_ros_plugins/CMakeLists.txt\tWed Sep 03 03:26:38 2014 +0200\n@@ -52,6 +52,7 @@\n \n link_directories(\n   ${GAZEBO_LIBRARY_DIRS}\n+  ${drcsim_model_resources_LIBRARY_DIRS}\n )\n \n ## Declare a cpp library\n@@ -80,7 +81,6 @@\n target_link_libraries(ContactModelPlugin ${catkin_LIBRARIES})\n \n add_library(AtlasPlugin src/AtlasPlugin.cpp)\n-set_target_properties(AtlasPlugin PROPERTIES LINK_FLAGS \"-L${ATLAS_INTERFACE_PROJECT_PATH}/lib64/\")\n set_target_properties(AtlasPlugin PROPERTIES COMPILE_FLAGS \"-I${ATLAS_INTERFACE_PROJECT_PATH}/include\")\n target_link_libraries(AtlasPlugin ${catkin_LIBRARIES} AtlasSimInterface)\n add_dependencies(AtlasPlugin atlas_msgs_gencpp AtlasSimInterface_include AtlasSimInterface_lib)\n\n```\n\nI was not able to know why the `drcsim_model_resource_LIBRARY_DIRS` variable is not properly generated or exported in the `drcsim_model_resourcesConfig.cmake` file. @dirk-thomas any hint or proper solution?", "markup": "markdown", "html": "<p>The problem was caused by the non inclusion of the binary blob in the source code any more, so we can not use the <code>${ATLAS_INTERFACE_PROJECT_PATH}/lib64/</code> in <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/pull-request/447/update-to-libatlassiminterface-2102-and/diff#Ldrcsim_gazebo_ros_plugins/CMakeLists.txtF105T83\" rel=\"nofollow\">CMakeLists.txt</a>.</p>\n<p>A quick fix would be:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r f573beabd413 drcsim_gazebo_ros_plugins/CMakeLists.txt</span>\n<span class=\"gd\">--- a/drcsim_gazebo_ros_plugins/CMakeLists.txt  Fri Aug 29 19:15:20 2014 -0700</span>\n<span class=\"gi\">+++ b/drcsim_gazebo_ros_plugins/CMakeLists.txt  Wed Sep 03 03:23:00 2014 +0200</span>\n<span class=\"gu\">@@ -80,8 +80,8 @@</span>\n target_link_libraries(ContactModelPlugin ${catkin_LIBRARIES})\n\n add_library(AtlasPlugin src/AtlasPlugin.cpp)\n<span class=\"gd\">-set_target_properties(AtlasPlugin PROPERTIES LINK_FLAGS &quot;-L${ATLAS_INTERFACE_PROJECT_PATH}/lib64/&quot;)</span>\n set_target_properties(AtlasPlugin PROPERTIES COMPILE_FLAGS &quot;-I${ATLAS_INTERFACE_PROJECT_PATH}/include&quot;)\n<span class=\"gi\">+set_target_properties(AtlasPlugin PROPERTIES LINK_FLAGS &quot;-L${drcsim_model_resources_DEVEL_PREFIX}/lib&quot;)</span>\n target_link_libraries(AtlasPlugin ${catkin_LIBRARIES} AtlasSimInterface)\n add_dependencies(AtlasPlugin atlas_msgs_gencpp AtlasSimInterface_include AtlasSimInterface_lib)\n</pre></div>\n\n\n<p>Although I would be happier using the following (non working):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r f573beabd413 drcsim_gazebo_ros_plugins/CMakeLists.txt</span>\n<span class=\"gd\">--- a/drcsim_gazebo_ros_plugins/CMakeLists.txt  Fri Aug 29 19:15:20 2014 -0700</span>\n<span class=\"gi\">+++ b/drcsim_gazebo_ros_plugins/CMakeLists.txt  Wed Sep 03 03:26:38 2014 +0200</span>\n<span class=\"gu\">@@ -52,6 +52,7 @@</span>\n\n link_directories(\n   ${GAZEBO_LIBRARY_DIRS}\n<span class=\"gi\">+  ${drcsim_model_resources_LIBRARY_DIRS}</span>\n )\n\n ## Declare a cpp library\n<span class=\"gu\">@@ -80,7 +81,6 @@</span>\n target_link_libraries(ContactModelPlugin ${catkin_LIBRARIES})\n\n add_library(AtlasPlugin src/AtlasPlugin.cpp)\n<span class=\"gd\">-set_target_properties(AtlasPlugin PROPERTIES LINK_FLAGS &quot;-L${ATLAS_INTERFACE_PROJECT_PATH}/lib64/&quot;)</span>\n set_target_properties(AtlasPlugin PROPERTIES COMPILE_FLAGS &quot;-I${ATLAS_INTERFACE_PROJECT_PATH}/include&quot;)\n target_link_libraries(AtlasPlugin ${catkin_LIBRARIES} AtlasSimInterface)\n add_dependencies(AtlasPlugin atlas_msgs_gencpp AtlasSimInterface_include AtlasSimInterface_lib)\n</pre></div>\n\n\n<p>I was not able to know why the <code>drcsim_model_resource_LIBRARY_DIRS</code> variable is not properly generated or exported in the <code>drcsim_model_resourcesConfig.cmake</code> file. @dirk-thomas any hint or proper solution?</p>", "type": "rendered"}, "created_on": "2014-09-03T01:28:49.674801+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 12127764}