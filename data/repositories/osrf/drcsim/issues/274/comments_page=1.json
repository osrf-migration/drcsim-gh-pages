{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4095249.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4095249"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-05-15T15:55:15.381072+00:00", "user": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "updated_on": null, "type": "issue_comment", "id": 4095249}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4127666.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4127666"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "what does\n\n~~~\nrospack profile\n~~~\n\nsay?", "markup": "markdown", "html": "<p>what does</p>\n<div class=\"codehilite\"><pre><span></span>rospack profile\n</pre></div>\n\n\n<p>say?</p>", "type": "rendered"}, "created_on": "2013-05-18T02:15:52.062764+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 4127666}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4127690.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4127690"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-05-18T02:23:47.769330+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 4127690}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4145847.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4145847"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "\n```\n#!\nrospack profile\nFull tree crawl took 0.035247 seconds.\nDirectories marked with (*) contain no manifest.  You may\nwant to delete these directories.\nTo get just of list of directories without manifests,\nre-run the profile with --zombie-only\n-------------------------------------------------------------\n0.019400   /opt/ros/groovy/share\n0.005565   /opt/ros/groovy/stacks\n0.003885 * /opt/ros/groovy/share/common-lisp\n0.003816 * /opt/ros/groovy/share/common-lisp/ros\n0.001861 * /opt/ros/groovy/share/doc\n0.001801 * /opt/ros/groovy/share/doc/pcl-1.6\n0.001776 * /opt/ros/groovy/share/doc/pcl-1.6/tutorials\n0.001654 * /opt/ros/groovy/share/doc/pcl-1.6/tutorials/sources\n0.000652   /usr/share/drcsim-2.5/ros\n0.000525   /opt/ros/groovy/stacks/arm_navigation\n0.000517   /opt/ros/groovy/stacks/navigation\n0.000376 * /opt/ros/groovy/share/common-lisp/ros/control_msgs\n0.000376   /opt/ros/groovy/stacks/pr2_controllers\n0.000364   /opt/ros/groovy/stacks/arm_navigation_experimental\n0.000359 * /usr/share/drcsim-2.5/gazebo_models/environments/vrc_firehose_long\n0.000351 * /usr/share/drcsim-2.5/gazebo_models/environments/gate\n0.000336 * /usr/share/drcsim-2.5/gazebo_models/environments/vrc_valve\n0.000279   /opt/ros/groovy/share/sandia-hand-5.1/ros\n0.000272 * /usr/share/drcsim-2.5/gazebo_models/environments/pavement_plane\n0.000271 * /usr/share/drcsim-2.5/gazebo_models/environments/platform_1\n\n```", "markup": "markdown", "html": "<div class=\"codehilite\"><pre><span></span>rospack profile\nFull tree crawl took 0.035247 seconds.\nDirectories marked with (*) contain no manifest.  You may\nwant to delete these directories.\nTo get just of list of directories without manifests,\nre-run the profile with --zombie-only\n-------------------------------------------------------------\n0.019400   /opt/ros/groovy/share\n0.005565   /opt/ros/groovy/stacks\n0.003885 * /opt/ros/groovy/share/common-lisp\n0.003816 * /opt/ros/groovy/share/common-lisp/ros\n0.001861 * /opt/ros/groovy/share/doc\n0.001801 * /opt/ros/groovy/share/doc/pcl-1.6\n0.001776 * /opt/ros/groovy/share/doc/pcl-1.6/tutorials\n0.001654 * /opt/ros/groovy/share/doc/pcl-1.6/tutorials/sources\n0.000652   /usr/share/drcsim-2.5/ros\n0.000525   /opt/ros/groovy/stacks/arm_navigation\n0.000517   /opt/ros/groovy/stacks/navigation\n0.000376 * /opt/ros/groovy/share/common-lisp/ros/control_msgs\n0.000376   /opt/ros/groovy/stacks/pr2_controllers\n0.000364   /opt/ros/groovy/stacks/arm_navigation_experimental\n0.000359 * /usr/share/drcsim-2.5/gazebo_models/environments/vrc_firehose_long\n0.000351 * /usr/share/drcsim-2.5/gazebo_models/environments/gate\n0.000336 * /usr/share/drcsim-2.5/gazebo_models/environments/vrc_valve\n0.000279   /opt/ros/groovy/share/sandia-hand-5.1/ros\n0.000272 * /usr/share/drcsim-2.5/gazebo_models/environments/pavement_plane\n0.000271 * /usr/share/drcsim-2.5/gazebo_models/environments/platform_1\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-20T14:30:59.199448+00:00", "user": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "updated_on": null, "type": "issue_comment", "id": 4145847}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4151582.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4151582"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "If `rospack` is returning that quickly, then the problem is with the [find call](#!/osrf/drcsim/src/c062c14af79a529d481c07be4ec1044f2baaf7d1/cmake/setup-unversioned.sh.in?at=default#cl-7) that identifies the latest installed version.  I suppose that, on a system with a lot installed in `/usr/share`, that command could be slow.\n\nYou can get rid of half of the delay by sourcing the versioned setup file instead, e.g.:\n\n    . /usr/share/drcsim-2.6/setup.sh\n\nHowever, that file internally sources `/usr/share/gazebo/setup.sh`, which has the [same find call](https://bitbucket.org/osrf/gazebo/src/e7a3fa0ce69fbc112716fe2760d3907e47409a6f/cmake/setup-unversioned.sh.in?at=default#cl-7).\n\nI suppose that the versioned `drcsim/setup.sh` could be auto-generated to source the versioned `gazebo/setup.sh` instead of the unversioned one as it does now.  Then you could avoid the delay by source the versioned `drcsim/setup.sh`.  Does that sound reasonable?\n\nAlso, how important is this problem?", "markup": "markdown", "html": "<p>If <code>rospack</code> is returning that quickly, then the problem is with the <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/c062c14af79a529d481c07be4ec1044f2baaf7d1/cmake/setup-unversioned.sh.in?at=default#cl-7\" rel=\"nofollow\">find call</a> that identifies the latest installed version.  I suppose that, on a system with a lot installed in <code>/usr/share</code>, that command could be slow.</p>\n<p>You can get rid of half of the delay by sourcing the versioned setup file instead, e.g.:</p>\n<div class=\"codehilite\"><pre><span></span>. /usr/share/drcsim-2.6/setup.sh\n</pre></div>\n\n\n<p>However, that file internally sources <code>/usr/share/gazebo/setup.sh</code>, which has the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/src/e7a3fa0ce69fbc112716fe2760d3907e47409a6f/cmake/setup-unversioned.sh.in?at=default#cl-7\" rel=\"nofollow\">same find call</a>.</p>\n<p>I suppose that the versioned <code>drcsim/setup.sh</code> could be auto-generated to source the versioned <code>gazebo/setup.sh</code> instead of the unversioned one as it does now.  Then you could avoid the delay by source the versioned <code>drcsim/setup.sh</code>.  Does that sound reasonable?</p>\n<p>Also, how important is this problem?</p>", "type": "rendered"}, "created_on": "2013-05-21T01:56:57.844927+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4151582}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4151594.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4151594"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Avoiding the find calls would defiantly speed up things.\n\n It is not a big issue,  more something to fix after the vrc( hence the trivial tag)", "markup": "markdown", "html": "<p>Avoiding the find calls would defiantly speed up things.</p>\n<p>It is not a big issue,  more something to fix after the vrc( hence the trivial tag)</p>", "type": "rendered"}, "created_on": "2013-05-21T01:59:56.842715+00:00", "user": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "updated_on": null, "type": "issue_comment", "id": 4151594}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4151659.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4151659"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Ah, didn't check the priority.  OK, I'll put it on hold for now.\n\nIn the meantime, a quick workaround for you would be to manually modify `/usr/share/drcsim-2.6/setup.sh` to source `/usr/share/gazebo-1.8/setup.sh` and then start using `/usr/share/drcsim-2.6/setup.sh` in your workflow.", "markup": "markdown", "html": "<p>Ah, didn't check the priority.  OK, I'll put it on hold for now.</p>\n<p>In the meantime, a quick workaround for you would be to manually modify <code>/usr/share/drcsim-2.6/setup.sh</code> to source <code>/usr/share/gazebo-1.8/setup.sh</code> and then start using <code>/usr/share/drcsim-2.6/setup.sh</code> in your workflow.</p>", "type": "rendered"}, "created_on": "2013-05-21T02:12:09.760192+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4151659}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4151660.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4151660"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-05-21T02:12:14.979322+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4151660}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/4953111.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-4953111"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Should be trivial to fix. Would a simlink from /usr/share/drcsim to the latest version be possible? That way, we don't need to change the version in our model import scripts either.", "markup": "markdown", "html": "<p>Should be trivial to fix. Would a simlink from /usr/share/drcsim to the latest version be possible? That way, we don't need to change the version in our model import scripts either.</p>", "type": "rendered"}, "created_on": "2013-06-24T16:37:57.615274+00:00", "user": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "updated_on": null, "type": "issue_comment", "id": 4953111}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/5296178.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-5296178"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "From @Progtologist in [Gazebo PR #178](https://bitbucket.org/osrf/gazebo/pull-request/178):\n\n`find @CMAKE_INSTALL_PREFIX@/share -path @CMAKE_INSTALL_PREFIX@/share/gazebo-'*'/setup.sh | sort | tail -n 1` is very slow and causes a significant lag if inserted in .bashrc A better solution should be provided. A simple workaround is to add the argument `-type f` in find to specify not to search folder names.", "markup": "markdown", "html": "<p>From @Progtologist in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-request/178\" rel=\"nofollow\">Gazebo PR #178</a>:</p>\n<p><code>find @CMAKE_INSTALL_PREFIX@/share -path @CMAKE_INSTALL_PREFIX@/share/gazebo-'*'/setup.sh | sort | tail -n 1</code> is very slow and causes a significant lag if inserted in .bashrc A better solution should be provided. A simple workaround is to add the argument <code>-type f</code> in find to specify not to search folder names.</p>", "type": "rendered"}, "created_on": "2013-07-23T15:27:29.416070+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 5296178}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/5296199.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-5296199"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Similar to [gazebo issue #784](https://bitbucket.org/osrf/gazebo/issue/784).", "markup": "markdown", "html": "<p>Similar to <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/issue/784\" rel=\"nofollow\">gazebo issue #784</a>.</p>", "type": "rendered"}, "created_on": "2013-07-23T15:29:02.542068+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-07-23T16:53:15.930084+00:00", "type": "issue_comment", "id": 5296199}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/5296213.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-5296213"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-07-23T15:30:04.873975+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 5296213}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/5297189.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-5297189"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Adding `-type f` doesn't have a noticable effect:\n\n~~~\n$ time find /usr/share -path /usr/share/drcsim-'*'/setup.sh | sort | tail -n 1\n/usr/share/drcsim-2.6/setup.sh\n\nreal  0m2.492s\nuser  0m0.208s\nsys   0m0.576s\n~~~\n\n~~~\n$ time find /usr/share -type f -path /usr/share/drcsim-'*'/setup.sh | sort | tail -n 1\n/usr/share/drcsim-2.6/setup.sh\n\nreal  0m2.488s\nuser  0m0.200s\nsys   0m0.596s\n~~~\n\nIn between runs, I followed [this tip](http://stackoverflow.com/questions/9551838/how-to-purge-disk-i-o-caches-on-linux) to clear disk caches via `echo 3 | sudo tee /proc/sys/vm/drop_caches`.  Otherwise, the first run is slow and the rest of the runs are much faster, once that part of the file system has been cached.\n\nEDIT: I get the same results doing the test directly on the search for gazebo's `setup.sh`, without going through drcsim's `setup.sh`.", "markup": "markdown", "html": "<p>Adding <code>-type f</code> doesn't have a noticable effect:</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">time</span> find /usr/share -path /usr/share/drcsim-<span class=\"s1\">&#39;*&#39;</span>/setup.sh <span class=\"p\">|</span> sort <span class=\"p\">|</span> tail -n <span class=\"m\">1</span>\n/usr/share/drcsim-2.6/setup.sh\n\nreal  0m2.492s\nuser  0m0.208s\nsys   0m0.576s\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">time</span> find /usr/share -type f -path /usr/share/drcsim-<span class=\"s1\">&#39;*&#39;</span>/setup.sh <span class=\"p\">|</span> sort <span class=\"p\">|</span> tail -n <span class=\"m\">1</span>\n/usr/share/drcsim-2.6/setup.sh\n\nreal  0m2.488s\nuser  0m0.200s\nsys   0m0.596s\n</pre></div>\n\n\n<p>In between runs, I followed <a data-is-external-link=\"true\" href=\"http://stackoverflow.com/questions/9551838/how-to-purge-disk-i-o-caches-on-linux\" rel=\"nofollow\">this tip</a> to clear disk caches via <code>echo 3 | sudo tee /proc/sys/vm/drop_caches</code>.  Otherwise, the first run is slow and the rest of the runs are much faster, once that part of the file system has been cached.</p>\n<p>EDIT: I get the same results doing the test directly on the search for gazebo's <code>setup.sh</code>, without going through drcsim's <code>setup.sh</code>.</p>", "type": "rendered"}, "created_on": "2013-07-23T16:56:14.177299+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-07-23T16:58:02.068102+00:00", "type": "issue_comment", "id": 5297189}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/5300410.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-5300410"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Like @jespersmith said, Isn't installing a symbolic link to the drcsim-X.X generally the way to approach this? \n\nIf you want to avoid that, you could avoid using find: \n\n```ls /usr/share/drcsim-*/setup.sh | sort | tail -n 1```\n\nWhich works much faster for me. ", "markup": "markdown", "html": "<p>Like @jespersmith said, Isn't installing a symbolic link to the drcsim-X.X generally the way to approach this? </p>\n<p>If you want to avoid that, you could avoid using find: </p>\n<p><code>ls /usr/share/drcsim-*/setup.sh | sort | tail -n 1</code></p>\n<p>Which works much faster for me. </p>", "type": "rendered"}, "created_on": "2013-07-23T21:55:36.418759+00:00", "user": {"display_name": "John Hoare", "uuid": "{f2fb0aad-9933-4b16-a710-d9fe1486032f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf2fb0aad-9933-4b16-a710-d9fe1486032f%7D"}, "html": {"href": "https://bitbucket.org/%7Bf2fb0aad-9933-4b16-a710-d9fe1486032f%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8caca58d5b3df735099a63ec2937a66ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJH-1.png"}}, "nickname": "jhoare", "type": "user", "account_id": "557058:8ecbba08-9b4d-49d1-902f-70e85314d9ea"}, "updated_on": null, "type": "issue_comment", "id": 5300410}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274/comments/5412620.json"}, "html": {"href": "#!/osrf/drcsim/issues/274#comment-5412620"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/usr/share/drcsim/setup.sh takes a long time"}, "content": {"raw": "Fixed in pull request #361 by installing the main setup.sh twice, once to the versioned directory and once to the unversioned directory. I chose that solution over using a symlink to avoid possible cross-platform or upgrade issues.\n\nTogether with [gazebo pull request #639](https://bitbucket.org/osrf/gazebo/pull-request/639), things are much faster:\n\n~~~\n$ echo 3 | sudo tee /proc/sys/vm/drop_caches\n3\n$ time . install/share/drcsim/setup.sh \n\nreal\t0m0.125s\nuser\t0m0.032s\nsys\t0m0.008s\n~~~", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/osrf/drcsim/pull-requests/361/make-the-unversioned-setupsh-a-copy-of-the\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #361</a> by installing the main setup.sh twice, once to the versioned directory and once to the unversioned directory. I chose that solution over using a symlink to avoid possible cross-platform or upgrade issues.</p>\n<p>Together with <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-request/639\" rel=\"nofollow\">gazebo pull request #639</a>, things are much faster:</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> <span class=\"m\">3</span> <span class=\"p\">|</span> sudo tee /proc/sys/vm/drop_caches\n<span class=\"m\">3</span>\n$ <span class=\"nb\">time</span> . install/share/drcsim/setup.sh \n\nreal    0m0.125s\nuser    0m0.032s\nsys 0m0.008s\n</pre></div>", "type": "rendered"}, "created_on": "2013-08-01T01:28:06.857694+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 5412620}], "page": 1, "size": 15}