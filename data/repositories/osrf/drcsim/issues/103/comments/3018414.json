{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3018414.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3018414"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Thanks for the tip John. Indeed the problem is a continuous brake torque at the front wheels which causes Gazebo to freak out it seems. Disabling both gas and brake torques for the front wheels or enabling both makes it drive smoothly. The only problem with this fix is that this prevents you from having rear-wheel drive with front brakes. \n\nRemoving brake torque or adding gas torque to the front wheels (which is what above solutions do) only removes the symptoms though but doesn't solve the underlying problem. The problem here is that there is always a brake torque applied to all wheels even when not commanding any (e.g. see http://i.imgur.com/9stZCRF.png which is rear-wheel drive with forward gas and no willingly commanded brake torque). I'm guessing this might be a result of too little required force to push the pedal (i.e. gravity dragging the pedals down a bit ... force goes down to ~0.01 when disabling gravity while it's jumping between 0 and 20 with gravity turned on ... the remaining noise and its magnification with gravity is probably due to the PID controller I think) and too sensitive pedals in general.\n\nMaybe a solution (in addition to tuning joint parameters and PID gains) for fixing the pedal bug would be to have a threshold that has to be overcome?", "markup": "markdown", "html": "<p>Thanks for the tip John. Indeed the problem is a continuous brake torque at the front wheels which causes Gazebo to freak out it seems. Disabling both gas and brake torques for the front wheels or enabling both makes it drive smoothly. The only problem with this fix is that this prevents you from having rear-wheel drive with front brakes. </p>\n<p>Removing brake torque or adding gas torque to the front wheels (which is what above solutions do) only removes the symptoms though but doesn't solve the underlying problem. The problem here is that there is always a brake torque applied to all wheels even when not commanding any (e.g. see <a href=\"http://i.imgur.com/9stZCRF.png\" rel=\"nofollow\" class=\"ap-connect-link\">http://i.imgur.com/9stZCRF.png</a> which is rear-wheel drive with forward gas and no willingly commanded brake torque). I'm guessing this might be a result of too little required force to push the pedal (i.e. gravity dragging the pedals down a bit ... force goes down to ~0.01 when disabling gravity while it's jumping between 0 and 20 with gravity turned on ... the remaining noise and its magnification with gravity is probably due to the PID controller I think) and too sensitive pedals in general.</p>\n<p>Maybe a solution (in addition to tuning joint parameters and PID gains) for fixing the pedal bug would be to have a threshold that has to be overcome?</p>", "type": "rendered"}, "created_on": "2013-02-02T03:43:10.333836+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": "2013-02-02T03:56:03.826716+00:00", "type": "issue_comment", "id": 3018414}