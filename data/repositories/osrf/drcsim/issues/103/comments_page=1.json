{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2972068.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2972068"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Thanks for reporting this. I'll figure out what's going on in the steering controller.", "markup": "markdown", "html": "<p>Thanks for reporting this. I'll figure out what's going on in the steering controller.</p>", "type": "rendered"}, "created_on": "2013-01-29T00:11:35.943869+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2972068}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2992135.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2992135"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "It appears to have been caused by very large friction values at the wheels. Try the updated polaris model in [this gazebo_models pull request](https://bitbucket.org/osrf/gazebo_models/pull-request/12) and let me know how it works for you.", "markup": "markdown", "html": "<p>It appears to have been caused by very large friction values at the wheels. Try the updated polaris model in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo_models/pull-request/12\" rel=\"nofollow\">this gazebo_models pull request</a> and let me know how it works for you.</p>", "type": "rendered"}, "created_on": "2013-01-30T17:54:40.227320+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2992135}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2992156.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2992156"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "I already removed the friction values in my initial tests and it didn't help (but maybe the default values are very high as well). I just did a test with your updates and now it's able to drive even with a steering wheel angle of 7 but  the vehicle is gliding and drifting quite a lot as if it's driving on ice. ;) ", "markup": "markdown", "html": "<p>I already removed the friction values in my initial tests and it didn't help (but maybe the default values are very high as well). I just did a test with your updates and now it's able to drive even with a steering wheel angle of 7 but  the vehicle is gliding and drifting quite a lot as if it's driving on ice. ;) </p>", "type": "rendered"}, "created_on": "2013-01-30T17:58:11.803277+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 2992156}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2992379.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2992379"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "What was your gas pedal command? I think turning the steering wheel all the way and giving a large amount of gas may generate some slip.\n\nThere's also the `front_torque` and `rear_torque` parameters in [drc_vehicle/model.sdf](#!/osrf/drcsim/src/45a23d87af80af8bbc467a58382dba903f8572d7/gazebo_models/environments/drc_vehicle/model.sdf?at=default) that could be tuned. Currently the `front_torque` is zero, so the vehicle is rear-wheel drive. Maybe the `rear_torque` value is set too high. Also there aren't realistic drive-train or tire-friction models.\n\nWe also tinkered with using the fdir1 parameter to fix this problem, but we found a bug that the fdir1 parameter in ODE is not being set properly [(gazebo issue 463](https://bitbucket.org/osrf/gazebo/issue/463/ode-fdir1-parameter-broken)).", "markup": "markdown", "html": "<p>What was your gas pedal command? I think turning the steering wheel all the way and giving a large amount of gas may generate some slip.</p>\n<p>There's also the <code>front_torque</code> and <code>rear_torque</code> parameters in <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/45a23d87af80af8bbc467a58382dba903f8572d7/gazebo_models/environments/drc_vehicle/model.sdf?at=default\" rel=\"nofollow\">drc_vehicle/model.sdf</a> that could be tuned. Currently the <code>front_torque</code> is zero, so the vehicle is rear-wheel drive. Maybe the <code>rear_torque</code> value is set too high. Also there aren't realistic drive-train or tire-friction models.</p>\n<p>We also tinkered with using the fdir1 parameter to fix this problem, but we found a bug that the fdir1 parameter in ODE is not being set properly <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/issue/463/ode-fdir1-parameter-broken\" rel=\"nofollow\">(gazebo issue 463</a>).</p>", "type": "rendered"}, "created_on": "2013-01-30T18:27:02.027220+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2992379}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2992386.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2992386"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "I used a gas of 1 and hand brake of 0. The problem as outlined in my other post is that the vehicle is barely steerable because it's slipping the whole time ... unless you're driving very very slow maybe (haven't tried that yet).", "markup": "markdown", "html": "<p>I used a gas of 1 and hand brake of 0. The problem as outlined in my other post is that the vehicle is barely steerable because it's slipping the whole time ... unless you're driving very very slow maybe (haven't tried that yet).</p>", "type": "rendered"}, "created_on": "2013-01-30T18:28:41.962012+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 2992386}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2993473.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2993473"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Try the code in branch vehicle_plugin_updates. In changeset 3b71061, I made it so torque is limited at both left and right wheels when one of them reaches the max speed. Before this, it was applying some weird differential torque, which aggravates the slip. There's still an fdir1 problem though; the vehicle drives in a square more than a circle.", "markup": "markdown", "html": "<p>Try the code in branch vehicle_plugin_updates. In changeset <a href=\"#!/osrf/drcsim/commits/3b71061\" rel=\"nofollow\" class=\"ap-connect-link\">3b71061</a>, I made it so torque is limited at both left and right wheels when one of them reaches the max speed. Before this, it was applying some weird differential torque, which aggravates the slip. There's still an fdir1 problem though; the vehicle drives in a square more than a circle.</p>", "type": "rendered"}, "created_on": "2013-01-30T20:21:55.943868+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2993473}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2993664.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2993664"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Yep I can confirm both the fix and the fdir bug ... the turning radius is better now but it's more like a square with round edges just like you're describing it. I also tried John's max velocity fix but I didn't really notice any difference I think (or is that the fix for the \"polaris rotating while stationary\" bug?).\n\nIt also still has a lot of slippage when colliding with an obstacle ... or is that normal for a vehicle without a deformable geometry that absorbs the impact? ;) ", "markup": "markdown", "html": "<p>Yep I can confirm both the fix and the fdir bug ... the turning radius is better now but it's more like a square with round edges just like you're describing it. I also tried John's max velocity fix but I didn't really notice any difference I think (or is that the fix for the \"polaris rotating while stationary\" bug?).</p>\n<p>It also still has a lot of slippage when colliding with an obstacle ... or is that normal for a vehicle without a deformable geometry that absorbs the impact? ;) </p>", "type": "rendered"}, "created_on": "2013-01-30T20:40:08.467038+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": "2013-01-30T20:46:30.024929+00:00", "type": "issue_comment", "id": 2993664}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2994722.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2994722"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "John's max_vel fix was related to rotating while stationary.\n\nRegarding the slippage after impact, try increasing the solver iterations and see if that reduces the slippage. It's possible that the effective friction computed by our version of the ODE iterative solver varies with the number of iterations. A friction value of 1.0 is physically realistic for a dry road, but the solver may perform better with a larger value.", "markup": "markdown", "html": "<p>John's max_vel fix was related to rotating while stationary.</p>\n<p>Regarding the slippage after impact, try increasing the solver iterations and see if that reduces the slippage. It's possible that the effective friction computed by our version of the ODE iterative solver varies with the number of iterations. A friction value of 1.0 is physically realistic for a dry road, but the solver may perform better with a larger value.</p>", "type": "rendered"}, "created_on": "2013-01-30T22:18:26.859426+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2994722}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2994976.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2994976"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Hmm, it still rotated about 50 degrees over the course of 500 seconds with the max_vel fix and no robot inside the vehicle.\n\nI tried running at 1e-4 instead of 1e-3 but the results were the same: http://youtu.be/n_MwQhlo0Eg\nOne collision is at the beginning of the video and a second one at the end of the video. The second collision even shows slippage to the side of the vehicle upon collision.", "markup": "markdown", "html": "<p>Hmm, it still rotated about 50 degrees over the course of 500 seconds with the max_vel fix and no robot inside the vehicle.</p>\n<p>I tried running at 1e-4 instead of 1e-3 but the results were the same: <a href=\"http://youtu.be/n_MwQhlo0Eg\" rel=\"nofollow\" class=\"ap-connect-link\">http://youtu.be/n_MwQhlo0Eg</a>\nOne collision is at the beginning of the video and a second one at the end of the video. The second collision even shows slippage to the side of the vehicle upon collision.</p>", "type": "rendered"}, "created_on": "2013-01-30T22:47:33.676660+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": "2013-01-30T22:48:53.999474+00:00", "type": "issue_comment", "id": 2994976}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2995014.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2995014"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "So, 1e-3 and 1e-4 refer to the step size. Try changing the iterations from 50 to 100 or 150.", "markup": "markdown", "html": "<p>So, 1e-3 and 1e-4 refer to the step size. Try changing the iterations from 50 to 100 or 150.</p>", "type": "rendered"}, "created_on": "2013-01-30T22:53:28.351277+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2995014}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2995045.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2995045"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Ah sorry didn't read correctly (or forgot about it by the time i switched to gazebo). :) Yes increasing iterations improves friction and it looks good for frontal collisions now. Collisions that only hit a wheel still make it spin quite a bit - is that expected?\n\nAlso it seems like that after a collision caused a rotation of the model it somewhat rotates back once it starts driving again.", "markup": "markdown", "html": "<p>Ah sorry didn't read correctly (or forgot about it by the time i switched to gazebo). :) Yes increasing iterations improves friction and it looks good for frontal collisions now. Collisions that only hit a wheel still make it spin quite a bit - is that expected?</p>\n<p>Also it seems like that after a collision caused a rotation of the model it somewhat rotates back once it starts driving again.</p>", "type": "rendered"}, "created_on": "2013-01-30T22:57:51.211653+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": "2013-01-30T23:00:16.201960+00:00", "type": "issue_comment", "id": 2995045}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/2995152.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-2995152"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Btw why is the gas pedal joint's upper limit 0.06 radians? That's just 3.43 degrees, so you pretty much max out as soon as you touch the pedal. :)\n\nedit: never mind it's a prismatic joint and hence in meters. ``gasPedalJoint->GetAngle(0).Radian()`` made it look like it's an angle.", "markup": "markdown", "html": "<p>Btw why is the gas pedal joint's upper limit 0.06 radians? That's just 3.43 degrees, so you pretty much max out as soon as you touch the pedal. :)</p>\n<p>edit: never mind it's a prismatic joint and hence in meters. <code>gasPedalJoint-&gt;GetAngle(0).Radian()</code> made it look like it's an angle.</p>", "type": "rendered"}, "created_on": "2013-01-30T23:11:06.567603+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": "2013-01-30T23:15:30.253155+00:00", "type": "issue_comment", "id": 2995152}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3018188.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3018188"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Haven't digged into this more, but commenting out [SetForce:573-574](#!/osrf/drcsim/src/71e76db13f76/plugins/DRCVehiclePlugin.cc?at=drcsim_2.0#cl-573) for the front wheels fixes the velocity bug, it drives smoothly again.", "markup": "markdown", "html": "<p>Haven't digged into this more, but commenting out <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/71e76db13f76/plugins/DRCVehiclePlugin.cc?at=drcsim_2.0#cl-573\" rel=\"nofollow\">SetForce:573-574</a> for the front wheels fixes the velocity bug, it drives smoothly again.</p>", "type": "rendered"}, "created_on": "2013-02-02T01:50:07.884112+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-02-02T01:50:17.531564+00:00", "type": "issue_comment", "id": 3018188}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3018414.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3018414"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "Thanks for the tip John. Indeed the problem is a continuous brake torque at the front wheels which causes Gazebo to freak out it seems. Disabling both gas and brake torques for the front wheels or enabling both makes it drive smoothly. The only problem with this fix is that this prevents you from having rear-wheel drive with front brakes. \n\nRemoving brake torque or adding gas torque to the front wheels (which is what above solutions do) only removes the symptoms though but doesn't solve the underlying problem. The problem here is that there is always a brake torque applied to all wheels even when not commanding any (e.g. see http://i.imgur.com/9stZCRF.png which is rear-wheel drive with forward gas and no willingly commanded brake torque). I'm guessing this might be a result of too little required force to push the pedal (i.e. gravity dragging the pedals down a bit ... force goes down to ~0.01 when disabling gravity while it's jumping between 0 and 20 with gravity turned on ... the remaining noise and its magnification with gravity is probably due to the PID controller I think) and too sensitive pedals in general.\n\nMaybe a solution (in addition to tuning joint parameters and PID gains) for fixing the pedal bug would be to have a threshold that has to be overcome?", "markup": "markdown", "html": "<p>Thanks for the tip John. Indeed the problem is a continuous brake torque at the front wheels which causes Gazebo to freak out it seems. Disabling both gas and brake torques for the front wheels or enabling both makes it drive smoothly. The only problem with this fix is that this prevents you from having rear-wheel drive with front brakes. </p>\n<p>Removing brake torque or adding gas torque to the front wheels (which is what above solutions do) only removes the symptoms though but doesn't solve the underlying problem. The problem here is that there is always a brake torque applied to all wheels even when not commanding any (e.g. see <a href=\"http://i.imgur.com/9stZCRF.png\" rel=\"nofollow\" class=\"ap-connect-link\">http://i.imgur.com/9stZCRF.png</a> which is rear-wheel drive with forward gas and no willingly commanded brake torque). I'm guessing this might be a result of too little required force to push the pedal (i.e. gravity dragging the pedals down a bit ... force goes down to ~0.01 when disabling gravity while it's jumping between 0 and 20 with gravity turned on ... the remaining noise and its magnification with gravity is probably due to the PID controller I think) and too sensitive pedals in general.</p>\n<p>Maybe a solution (in addition to tuning joint parameters and PID gains) for fixing the pedal bug would be to have a threshold that has to be overcome?</p>", "type": "rendered"}, "created_on": "2013-02-02T03:43:10.333836+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": "2013-02-02T03:56:03.826716+00:00", "type": "issue_comment", "id": 3018414}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3039939.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3039939"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "I believe this also contributes to the rotating in place problem (issue #109) given the wheels are undergoing +/- breaking torques continuously.  A solution is being tested, will have an update soon.", "markup": "markdown", "html": "<p>I believe this also contributes to the rotating in place problem (issue <a href=\"#!/osrf/drcsim/issues/109/polaris-rotating-while-stationary\" rel=\"nofollow\" title=\"polaris rotating while stationary\" class=\"ap-connect-link\"><s>#109</s></a>) given the wheels are undergoing +/- breaking torques continuously.  A solution is being tested, will have an update soon.</p>", "type": "rendered"}, "created_on": "2013-02-04T23:37:31.198394+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 3039939}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3149538.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3149538"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-02-15T23:30:40.105277+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 3149538}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3260610.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3260610"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "This seems to be related to the PID gains on the gas and brake pedals. The code in branch [vehicle_plugin_updates](#!/osrf/drcsim/compare/vehicle_plugin_updates..default#diff) seems to work better, though I'm still working on it.", "markup": "markdown", "html": "<p>This seems to be related to the PID gains on the gas and brake pedals. The code in branch <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/compare/vehicle_plugin_updates..default#diff\" rel=\"nofollow\">vehicle_plugin_updates</a> seems to work better, though I'm still working on it.</p>", "type": "rendered"}, "created_on": "2013-02-27T18:12:08.841000+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3260610}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103/comments/3486090.json"}, "html": {"href": "#!/osrf/drcsim/issues/103#comment-3486090"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/103.json"}}, "type": "issue", "id": 103, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "polaris steering angle -> vehicle velocity bug"}, "content": {"raw": "pull request #140", "markup": "markdown", "html": "<p><a href=\"#!/osrf/drcsim/pull-requests/140/vehicle-plugin-updates-fix-for-103-109-116\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #140</a></p>", "type": "rendered"}, "created_on": "2013-03-22T04:31:33.370431+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3486090}], "page": 1, "size": 18}