{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3527434.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3527434"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-03-26T15:47:41.849725+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3527434}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3540385.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3540385"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": "The **camera_info** topic is not published by gazebo_ros_camera plugin because of a missing line in **gazebo_ros_camera.cpp**. Find attached the patch that fixes the issue.\n\nRegards\n\n", "markup": "markdown", "html": "<p>The <strong>camera_info</strong> topic is not published by gazebo_ros_camera plugin because of a missing line in <strong>gazebo_ros_camera.cpp</strong>. Find attached the patch that fixes the issue.</p>\n<p>Regards</p>", "type": "rendered"}, "created_on": "2013-03-27T16:01:28.885893+00:00", "user": {"display_name": "Jordi Pages", "uuid": "{f31dc481-641a-4ab4-86ab-c114a6ce6bd9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf31dc481-641a-4ab4-86ab-c114a6ce6bd9%7D"}, "html": {"href": "https://bitbucket.org/%7Bf31dc481-641a-4ab4-86ab-c114a6ce6bd9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jpages/avatar/"}}, "nickname": "jpages", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 3540385}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3540420.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3540420"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": "@jpages I don't see the patch; can you reattach?", "markup": "markdown", "html": "<p>@jpages I don't see the patch; can you reattach?</p>", "type": "rendered"}, "created_on": "2013-03-27T16:03:20.443848+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3540420}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3540428.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3540428"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": "The patch is as follows:\n\n\n```\n#!c++\n\n# HG changeset patch\n# User Jordi Pages <jordi.pages@pal-robotics.com>\n# Date 1364398873 -3600\n# Node ID 5bf4aea711dc05946cbb676298c08ba68894ebe5\n# Parent  52dc606bc3b12a46bb83c2e91d4c380be0607642\nFix broken publishing of camera_info topic.\n\ndiff --git a/ros/atlas_msgs/gazebo_ros_camera.cpp b/ros/atlas_msgs/gazebo_ros_camera.cpp\n--- a/ros/atlas_msgs/gazebo_ros_camera.cpp\n+++ b/ros/atlas_msgs/gazebo_ros_camera.cpp\n@@ -70,14 +70,15 @@ void GazeboRosCamera::OnNewFrame(const u\n   else\n   {\n     if (this->image_connect_count_ > 0)\n     {\n       common::Time cur_time = this->world_->GetSimTime();\n       if (cur_time - this->last_update_time_ >= this->update_period_)\n       {\n         this->PutCameraData(_image);\n+        this->PublishCameraInfo();\n         this->last_update_time_ = cur_time;\n       }\n     }\n   }\n }\n }\n```", "markup": "markdown", "html": "<p>The patch is as follows:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"cp\"># HG changeset patch</span>\n<span class=\"cp\"># User Jordi Pages &lt;jordi.pages@pal-robotics.com&gt;</span>\n<span class=\"cp\"># Date 1364398873 -3600</span>\n<span class=\"cp\"># Node ID 5bf4aea711dc05946cbb676298c08ba68894ebe5</span>\n<span class=\"cp\"># Parent  52dc606bc3b12a46bb83c2e91d4c380be0607642</span>\n<span class=\"n\">Fix</span> <span class=\"n\">broken</span> <span class=\"n\">publishing</span> <span class=\"n\">of</span> <span class=\"n\">camera_info</span> <span class=\"n\">topic</span><span class=\"p\">.</span>\n\n<span class=\"n\">diff</span> <span class=\"o\">--</span><span class=\"n\">git</span> <span class=\"n\">a</span><span class=\"o\">/</span><span class=\"n\">ros</span><span class=\"o\">/</span><span class=\"n\">atlas_msgs</span><span class=\"o\">/</span><span class=\"n\">gazebo_ros_camera</span><span class=\"p\">.</span><span class=\"n\">cpp</span> <span class=\"n\">b</span><span class=\"o\">/</span><span class=\"n\">ros</span><span class=\"o\">/</span><span class=\"n\">atlas_msgs</span><span class=\"o\">/</span><span class=\"n\">gazebo_ros_camera</span><span class=\"p\">.</span><span class=\"n\">cpp</span>\n<span class=\"o\">---</span> <span class=\"n\">a</span><span class=\"o\">/</span><span class=\"n\">ros</span><span class=\"o\">/</span><span class=\"n\">atlas_msgs</span><span class=\"o\">/</span><span class=\"n\">gazebo_ros_camera</span><span class=\"p\">.</span><span class=\"n\">cpp</span>\n<span class=\"o\">+++</span> <span class=\"n\">b</span><span class=\"o\">/</span><span class=\"n\">ros</span><span class=\"o\">/</span><span class=\"n\">atlas_msgs</span><span class=\"o\">/</span><span class=\"n\">gazebo_ros_camera</span><span class=\"p\">.</span><span class=\"n\">cpp</span>\n<span class=\"err\">@@</span> <span class=\"o\">-</span><span class=\"mi\">70</span><span class=\"p\">,</span><span class=\"mi\">14</span> <span class=\"o\">+</span><span class=\"mi\">70</span><span class=\"p\">,</span><span class=\"mi\">15</span> <span class=\"err\">@@</span> <span class=\"kt\">void</span> <span class=\"n\">GazeboRosCamera</span><span class=\"o\">::</span><span class=\"n\">OnNewFrame</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">u</span>\n   <span class=\"k\">else</span>\n   <span class=\"p\">{</span>\n     <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">image_connect_count_</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n     <span class=\"p\">{</span>\n       <span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">Time</span> <span class=\"n\">cur_time</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">world_</span><span class=\"o\">-&gt;</span><span class=\"n\">GetSimTime</span><span class=\"p\">();</span>\n       <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">cur_time</span> <span class=\"o\">-</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">last_update_time_</span> <span class=\"o\">&gt;=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">update_period_</span><span class=\"p\">)</span>\n       <span class=\"p\">{</span>\n         <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">PutCameraData</span><span class=\"p\">(</span><span class=\"n\">_image</span><span class=\"p\">);</span>\n<span class=\"o\">+</span>        <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">PublishCameraInfo</span><span class=\"p\">();</span>\n         <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">last_update_time_</span> <span class=\"o\">=</span> <span class=\"n\">cur_time</span><span class=\"p\">;</span>\n       <span class=\"p\">}</span>\n     <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n <span class=\"p\">}</span>\n <span class=\"p\">}</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-03-27T16:03:35.234971+00:00", "user": {"display_name": "Jordi Pages", "uuid": "{f31dc481-641a-4ab4-86ab-c114a6ce6bd9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf31dc481-641a-4ab4-86ab-c114a6ce6bd9%7D"}, "html": {"href": "https://bitbucket.org/%7Bf31dc481-641a-4ab4-86ab-c114a6ce6bd9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jpages/avatar/"}}, "nickname": "jpages", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 3540428}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3540539.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3540539"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": "The missing line was previoulsy in the parent class function \n\n\n```\n#!c++\nGazeboRosCameraUtils::CameraQueueThread()\n```\nAfter creating **gazebo_ros_multi_camera.cpp** the *PublishCameraInfo()* call was moved to the derived class methods \n\n\n```\n#!c++\nGazeboRosMultiCamera::OnNewFrameLeft()\nGazeboRosMultiCamera::OnNewFrameRight()\n```\nbut it was not moved to \n\n\n```\n#!c++\nGazeboRosCamera::OnNewFrame()\n```", "markup": "markdown", "html": "<p>The missing line was previoulsy in the parent class function </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">GazeboRosCameraUtils</span><span class=\"o\">::</span><span class=\"n\">CameraQueueThread</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>After creating <strong>gazebo_ros_multi_camera.cpp</strong> the <em>PublishCameraInfo()</em> call was moved to the derived class methods </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">GazeboRosMultiCamera</span><span class=\"o\">::</span><span class=\"n\">OnNewFrameLeft</span><span class=\"p\">()</span>\n<span class=\"n\">GazeboRosMultiCamera</span><span class=\"o\">::</span><span class=\"n\">OnNewFrameRight</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>but it was not moved to </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">GazeboRosCamera</span><span class=\"o\">::</span><span class=\"n\">OnNewFrame</span><span class=\"p\">()</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-03-27T16:09:38.981588+00:00", "user": {"display_name": "Jordi Pages", "uuid": "{f31dc481-641a-4ab4-86ab-c114a6ce6bd9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf31dc481-641a-4ab4-86ab-c114a6ce6bd9%7D"}, "html": {"href": "https://bitbucket.org/%7Bf31dc481-641a-4ab4-86ab-c114a6ce6bd9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jpages/avatar/"}}, "nickname": "jpages", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 3540539}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3540670.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3540670"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": "Thanks @jpages, see pull request #164 and pull request #165.", "markup": "markdown", "html": "<p>Thanks @jpages, see <a href=\"#!/osrf/drcsim/pull-requests/164/fix-for-163-on-default-ros-camera-plugin\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #164</a> and <a href=\"#!/osrf/drcsim/pull-requests/165/fix-for-163-on-drcsim-22-ros-camera-plugin\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #165</a>.</p>", "type": "rendered"}, "created_on": "2013-03-27T16:20:03.111639+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3540670}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163/comments/3755512.json"}, "html": {"href": "#!/osrf/drcsim/issues/163#comment-3755512"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/163.json"}}, "type": "issue", "id": 163, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "ros camera plugin not publishing camera_info topic"}, "content": {"raw": "fixed", "markup": "markdown", "html": "<p>fixed</p>", "type": "rendered"}, "created_on": "2013-04-15T18:53:40.763637+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 3755512}], "page": 1, "size": 7}