{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6901224.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6901224"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "When using simulation, we've always filled in the Header timestamps with simulation time.  That might disagree with the comment in the Header message (or suggest that our simulation is stuck in the early 1970s, which would be cool, in a retro way), but it shouldn't cause problems, as long as everything is timestamped consistently.\n\nWhat exactly is the trouble you're having with rqt_plot?", "markup": "markdown", "html": "<p>When using simulation, we've always filled in the Header timestamps with simulation time.  That might disagree with the comment in the Header message (or suggest that our simulation is stuck in the early 1970s, which would be cool, in a retro way), but it shouldn't cause problems, as long as everything is timestamped consistently.</p>\n<p>What exactly is the trouble you're having with rqt_plot?</p>", "type": "rendered"}, "created_on": "2013-11-14T20:49:30.312269+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 6901224}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6902184.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6902184"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "rqt_plot was plotting the bag file data with horizontal axis values of -1.2e9 (about 40 years). I was unable to view the data easily due to an issue with the x-axis scaling of rqt_plot being inflexible ([ticket here](https://github.com/ros-visualization/rqt_common_plugins/issues/196)).\n\nWhile debugging with @wwoodall and @dirk-thomas , they pointed out that the header time stamps were being set incorrectly by drcsim, so I decided to post the issue here.\n\nWe may choose to ignore it; I'm not sure what the consequences are, aside from difficulties with rqt_plot.", "markup": "markdown", "html": "<p>rqt_plot was plotting the bag file data with horizontal axis values of -1.2e9 (about 40 years). I was unable to view the data easily due to an issue with the x-axis scaling of rqt_plot being inflexible (<a data-is-external-link=\"true\" href=\"https://github.com/ros-visualization/rqt_common_plugins/issues/196\" rel=\"nofollow\">ticket here</a>).</p>\n<p>While debugging with @wwoodall and @dirk-thomas , they pointed out that the header time stamps were being set incorrectly by drcsim, so I decided to post the issue here.</p>\n<p>We may choose to ignore it; I'm not sure what the consequences are, aside from difficulties with rqt_plot.</p>", "type": "rendered"}, "created_on": "2013-11-14T22:07:57.971861+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6902184}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6902255.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6902255"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "I'm disinclined to change the clock behavior of simulation, given that we've been doing it this way for years (at least in Stage and Gazebo).  ROS tools should be able to handle any valid time value, including those near 0.\n\nFixing this issue, which I guess would involve seeding simulation time with current wallclock time (but then letting simulation time evolve at its own pace, independent of wallclock time), would break existing code that checks for non-zero time (or time > a small value) to know that simulation is up and running (it may be dirty, but I've certainly written code like that).", "markup": "markdown", "html": "<p>I'm disinclined to change the clock behavior of simulation, given that we've been doing it this way for years (at least in Stage and Gazebo).  ROS tools should be able to handle any valid time value, including those near 0.</p>\n<p>Fixing this issue, which I guess would involve seeding simulation time with current wallclock time (but then letting simulation time evolve at its own pace, independent of wallclock time), would break existing code that checks for non-zero time (or time &gt; a small value) to know that simulation is up and running (it may be dirty, but I've certainly written code like that).</p>", "type": "rendered"}, "created_on": "2013-11-14T22:14:32.572120+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 6902255}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6902506.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6902506"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "An alternative is to keep simulation time zero-based, always use wall time in the ROS message headers, and add separate message fields for simulation time when needed. That can get confusing though.\n\nAny thoughts from @wwoodall or @dirk-thomas about putting simulation time in ros message headers?", "markup": "markdown", "html": "<p>An alternative is to keep simulation time zero-based, always use wall time in the ROS message headers, and add separate message fields for simulation time when needed. That can get confusing though.</p>\n<p>Any thoughts from @wwoodall or @dirk-thomas about putting simulation time in ros message headers?</p>", "type": "rendered"}, "created_on": "2013-11-14T22:36:22.112676+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6902506}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6966276.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6966276"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "Timestamps should be simulation time, not wall time. Using wall time would make no sense, because the simulation isn't guaranteed to run in real time. We're using the timestamps to synchronize simulated LIDAR and camera with the simulation.", "markup": "markdown", "html": "<p>Timestamps should be simulation time, not wall time. Using wall time would make no sense, because the simulation isn't guaranteed to run in real time. We're using the timestamps to synchronize simulated LIDAR and camera with the simulation.</p>", "type": "rendered"}, "created_on": "2013-11-19T18:05:34.494444+00:00", "user": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "updated_on": null, "type": "issue_comment", "id": 6966276}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6966563.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6966563"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "I think we made the decision that works best for our application (simulation), but I made this issue to point out that it conflicts with a ROS standard and may cause strange behavior when interacting with other ROS tools (in my case, rqt_plot plotted everything at -1e9 seconds on the horizontal axis).", "markup": "markdown", "html": "<p>I think we made the decision that works best for our application (simulation), but I made this issue to point out that it conflicts with a ROS standard and may cause strange behavior when interacting with other ROS tools (in my case, rqt_plot plotted everything at -1e9 seconds on the horizontal axis).</p>", "type": "rendered"}, "created_on": "2013-11-19T18:27:41.289491+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6966563}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/6982834.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-6982834"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "I agree with @gerkey.  Couple things that might be problematic here:\n\n * Maybe the issue is ROS parameter [`use_sim_time` is not set to true](https://github.com/ros-simulation/gazebo_ros_pkgs/blob/hydro-devel/gazebo_ros/src/gazebo_ros_api_plugin.cpp#L473) before launching rqt_plot?   If rqt_plot is hardcoded take wall time for it's initial time, it should use `/clock` or ros-time to initialize the plot instead, or better yet,\n * rqt_plot should plot data relative to the first time value in the datastream.  This way data recorded *last week* will not be plotted 600,000 seconds in the past?\n\nA separate issue that arose from this discussion is the need to seed simulation time with something non-zero.  I used to set sim time to 1ms on startup due to the fact that tf treats t=0 as a special case for time.  Making this parameter available in sdf will be nice too.", "markup": "markdown", "html": "<p>I agree with @gerkey.  Couple things that might be problematic here:</p>\n<ul>\n<li>Maybe the issue is ROS parameter <a data-is-external-link=\"true\" href=\"https://github.com/ros-simulation/gazebo_ros_pkgs/blob/hydro-devel/gazebo_ros/src/gazebo_ros_api_plugin.cpp#L473\" rel=\"nofollow\"><code>use_sim_time</code> is not set to true</a> before launching rqt_plot?   If rqt_plot is hardcoded take wall time for it's initial time, it should use <code>/clock</code> or ros-time to initialize the plot instead, or better yet,</li>\n<li>rqt_plot should plot data relative to the first time value in the datastream.  This way data recorded <em>last week</em> will not be plotted 600,000 seconds in the past?</li>\n</ul>\n<p>A separate issue that arose from this discussion is the need to seed simulation time with something non-zero.  I used to set sim time to 1ms on startup due to the fact that tf treats t=0 as a special case for time.  Making this parameter available in sdf will be nice too.</p>", "type": "rendered"}, "created_on": "2013-11-20T17:32:25.851547+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-11-20T17:38:49.093040+00:00", "type": "issue_comment", "id": 6982834}, {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391/comments/8402991.json"}, "html": {"href": "#!/osrf/drcsim/issues/391#comment-8402991"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/391.json"}}, "type": "issue", "id": 391, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Message header timestamps should be relative to the epoch"}, "content": {"raw": "Created a [new gazebo issue](https://bitbucket.org/osrf/gazebo/issue/1047/make-starting-simulation-time-a-parameter) to track proposed improvement from this issue.", "markup": "markdown", "html": "<p>Created a <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/issue/1047/make-starting-simulation-time-a-parameter\" rel=\"nofollow\">new gazebo issue</a> to track proposed improvement from this issue.</p>", "type": "rendered"}, "created_on": "2014-02-14T23:00:55.133816+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 8402991}], "page": 1, "size": 8}