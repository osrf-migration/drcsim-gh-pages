{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/488/comments/15880437.json"}, "html": {"href": "#!/osrf/drcsim/issues/488#comment-15880437"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/488.json"}}, "type": "issue", "id": 488, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "SetDamping / GetDamping is totally wrong in AtlasPlugin.cpp"}, "content": {"raw": "@siyuanfeng \n\nTo get zero viscous joint damping from the physics solution, I believe you can achieve that by:\n\n  - setting [high bandwidth joint velocity implicit damping `kp_velocity`](#!/osrf/drcsim/wiki/DRC/UserGuide#markdown-header-high-bandwidth-joint-velocity-implicit-damping-via-kp_velocity) terms to zero. Use [`kd_position` (explicit position derivative error control)](markdown-header-atlas-per-joint-servo-controllers) instead.\n  - Call [ROS service](#!/osrf/drcsim/src/default/atlas_msgs/srv/SetJointDamping.srv?at=default) [SetJointDamping](#!/osrf/drcsim/src/ef20eebcb1d8b14e650fca70724c9f14d087327d/drcsim_gazebo_ros_plugins/src/AtlasPlugin.cpp?at=default#cl-1255) and set model damping coefficients to zero.\n\nThis should remove any physics based viscous joint damping for the simulated model. Let us know if this does what you need. If not, we can instrument something different?", "markup": "markdown", "html": "<p>@siyuanfeng </p>\n<p>To get zero viscous joint damping from the physics solution, I believe you can achieve that by:</p>\n<ul>\n<li>setting <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/wiki/DRC/UserGuide#markdown-header-high-bandwidth-joint-velocity-implicit-damping-via-kp_velocity\" rel=\"nofollow\">high bandwidth joint velocity implicit damping <code>kp_velocity</code></a> terms to zero. Use <a data-is-external-link=\"true\" href=\"/osrf/drcsim/src/194be8500fef81593f79607a21ee2badd9700a0e/markdown-header-atlas-per-joint-servo-controllers\" rel=\"nofollow\"><code>kd_position</code> (explicit position derivative error control)</a> instead.</li>\n<li>Call <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/default/atlas_msgs/srv/SetJointDamping.srv?at=default\" rel=\"nofollow\">ROS service</a> <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/ef20eebcb1d8b14e650fca70724c9f14d087327d/drcsim_gazebo_ros_plugins/src/AtlasPlugin.cpp?at=default#cl-1255\" rel=\"nofollow\">SetJointDamping</a> and set model damping coefficients to zero.</li>\n</ul>\n<p>This should remove any physics based viscous joint damping for the simulated model. Let us know if this does what you need. If not, we can instrument something different?</p>", "type": "rendered"}, "created_on": "2015-02-24T06:06:08.066586+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 15880437}