{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/373/comments/6451526.json"}, "html": {"href": "#!/osrf/drcsim/issues/373#comment-6451526"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/373.json"}}, "type": "issue", "id": 373, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Provide detailed release notes"}, "content": {"raw": "Atlas is now spawned by [VRCPlugin.cc](#!/osrf/drcsim/src/5106f8e07aac9381a11c1bde203fd417522476c4/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp?at=default#cl-659) from ROS parameter named `robot_description`.  `VRCPlugin` is included in world files, for example see [atlas.world](#!/osrf/drcsim/src/5106f8e07aac9381a11c1bde203fd417522476c4/drcsim_model_resources/worlds/atlas.world?at=default#cl-30).\n\nOne way to add custom plugin to a robot is to modify installed [atlas_description/robots/atlas_v3_sandia_hands.urdf.xacro](#!/osrf/drcsim/src/5106f8e07aac9381a11c1bde203fd417522476c4/atlas_description/robots/atlas_v3_sandia_hands.urdf.xacro?at=default), and modify its content to include your plugin:\n~~~\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\" name=\"atlas\" >\n  \n  <xacro:include filename=\"$(find atlas_description)/urdf/atlas_v3.urdf\" />\n  <xacro:include filename=\"$(find sandia_hand_description)/urdf/sandia_hand_simple_shapes.urdf.xacro\" />\n\n  <xacro:sandia_hand side=\"right\" parent=\"r_hand\" reflect=\"1\" joint_type=\"revolute\" thumb_angle=\"0\">\n    <origin xyz=\"-0.00179 -0.13516 0.01176\" rpy=\"0 0 -1.57079\"/>\n  </xacro:sandia_hand>\n  <xacro:sandia_hand side=\"left\" parent=\"l_hand\" reflect=\"-1\" joint_type=\"revolute\" thumb_angle=\"0\">\n    <origin xyz=\"0.00179  0.13516 0.01176\" rpy=\"0 0  1.57079\"/>\n  </xacro:sandia_hand>\n\n  <xacro:include filename=\"$(find atlas_description)/urdf/atlas_v3.gazebo\" />\n  <xacro:include filename=\"$(find atlas_description)/urdf/atlas_v3.transmission\" />\n  <xacro:include filename=\"$(find multisense_sl_description)/urdf/multisense_sl_v3.urdf\" />\n\n  <gazebo>\n    <!-- include plugin for sandia hands -->\n    <plugin name=\"sandia_hand_plugin\" filename=\"libSandiaHandPlugin.so\"/>\n\n    <!-- custom plugin -->\n    <plugin name=\"[my plugin]\" filename=\"lib[My Plugin].so\"/>\n  </gazebo>\n</robot>\n~~~\n\nOf course, this is not as clean if you have installed from deb, requiring root access to modify things in `/opt/ros/groovy[hydro]/share/atlas_description/robots/*.xacro`.  \n\nAnother way is to create your own ROS package:\n\n~~~\nmkdir ~/drcsim_ws\ncd ~/drcsim_ws\nroscreate-pkg atlas_ihmc_gazebo atlas_description drcsim_gazebo\n~~~\n\nPrepend your new package path to `ROS_PACKAGE_PATH`\n~~~\nexport ROS_PACKAGE_PATH=~/drcsim_ws:${ROS_PACKAGE_PATH}\n~~~\n\nCopy launch files from `drcsim_gazebo/launch/atlas_v3_sandia_hands.launch` and   rename reference to `atlas_description` to `atlas_ihmc_description/robots` as such:\n~~~\n<launch>\n\n  <arg name=\"gzname\" default=\"gazebo\"/>\n  <arg name=\"gzworld\" default=\"atlas_sandia_hands.world\"/>\n  <arg name=\"hand_suffix\" default=\"\"/>\n  <arg name=\"extra_gazebo_args\" default=\"-q\" />\n\n  <param name=\"/atlas/time_to_unpin\" type=\"double\" value=\"1.0\"/>\n  <param name=\"/atlas/startup_mode\" type=\"string\" value=\"bdi_stand\"/>\n  <!-- <param name=\"/atlas/startup_mode\" type=\"string\" value=\"pinned\"/> -->\n\n  <!-- start gazebo with the Atlas -->\n  <include file=\"$(find drcsim_gazebo)/launch/atlas_no_controllers.launch\">\n    <arg name=\"gzname\" value=\"$(arg gzname)\"/>\n    <arg name=\"gzworld\" value=\"$(arg gzworld)\"/>\n    <arg name=\"extra_gazebo_args\" value=\"$(arg extra_gazebo_args)\"/>\n  </include>\n\n  <!-- to trigger synchronization delay, set\n       atlas_msgs::AtlasCommand::desired_controller_period_ms to non-zero -->\n  <param name=\"/atlas/delay_window_size\" type=\"double\" value=\"5.0\"/>\n  <param name=\"/atlas/delay_max_per_window\" type=\"double\" value=\"0.25\"/>\n  <param name=\"/atlas/delay_max_per_step\" type=\"double\" value=\"0.025\"/>\n\n  <!-- Robot Description -->\n  <param name=\"robot_description\" command=\"$(find xacro)/xacro.py '$(find atlas_ihmc_description)/robots/atlas_v3_sandia_hands.urdf.xacro'\" />\n  <param name=\"robot_initial_pose/x\"     value=\"0\" type=\"double\"/>\n  <param name=\"robot_initial_pose/y\"     value=\"0\" type=\"double\"/>\n  <param name=\"robot_initial_pose/z\"     value=\"0.95\" type=\"double\"/>\n  <param name=\"robot_initial_pose/roll\"  value=\"0\" type=\"double\"/>\n  <param name=\"robot_initial_pose/pitch\" value=\"0\" type=\"double\"/>\n  <param name=\"robot_initial_pose/yaw\"   value=\"0\" type=\"double\"/>\n\n  <include file=\"$(find drcsim_gazebo)/launch/atlas_v3_sandia_hands_bringup.launch\"/>\n</launch>\n~~~\n\nAlso copy robot xacro file from `atlas_description/robots/atlas_v3_sandia_hands.launch` into your new package and add a line to include the custom plugin as such:\n~~~\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\" name=\"atlas\" >\n  \n  <xacro:include filename=\"$(find atlas_description)/urdf/atlas_v3.urdf\" />\n  <xacro:include filename=\"$(find sandia_hand_description)/urdf/sandia_hand_simple_shapes.urdf.xacro\" />\n\n  <xacro:sandia_hand side=\"right\" parent=\"r_hand\" reflect=\"1\" joint_type=\"revolute\" thumb_angle=\"0\">\n    <origin xyz=\"-0.00179 -0.13516 0.01176\" rpy=\"0 0 -1.57079\"/>\n  </xacro:sandia_hand>\n  <xacro:sandia_hand side=\"left\" parent=\"l_hand\" reflect=\"-1\" joint_type=\"revolute\" thumb_angle=\"0\">\n    <origin xyz=\"0.00179  0.13516 0.01176\" rpy=\"0 0  1.57079\"/>\n  </xacro:sandia_hand>\n\n  <xacro:include filename=\"$(find atlas_description)/urdf/atlas_v3.gazebo\" />\n  <xacro:include filename=\"$(find atlas_description)/urdf/atlas_v3.transmission\" />\n  <xacro:include filename=\"$(find multisense_sl_description)/urdf/multisense_sl_v3.urdf\" />\n\n  <gazebo>\n    <!-- include plugin for sandia hands -->\n    <plugin name=\"sandia_hand_plugin\" filename=\"libSandiaHandPlugin.so\"/>\n\n    <!-- custom plugin -->\n    <plugin name=\"[my plugin]\" filename=\"lib[My Plugin].so\"/>\n  </gazebo>\n</robot>\n~~~\n\nOne of the two above options should work (note: untested), while we try to come up with a cleaner solution.", "markup": "markdown", "html": "<p>Atlas is now spawned by <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/5106f8e07aac9381a11c1bde203fd417522476c4/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp?at=default#cl-659\" rel=\"nofollow\">VRCPlugin.cc</a> from ROS parameter named <code>robot_description</code>.  <code>VRCPlugin</code> is included in world files, for example see <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/5106f8e07aac9381a11c1bde203fd417522476c4/drcsim_model_resources/worlds/atlas.world?at=default#cl-30\" rel=\"nofollow\">atlas.world</a>.</p>\n<p>One way to add custom plugin to a robot is to modify installed <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/5106f8e07aac9381a11c1bde203fd417522476c4/atlas_description/robots/atlas_v3_sandia_hands.urdf.xacro?at=default\" rel=\"nofollow\">atlas_description/robots/atlas_v3_sandia_hands.urdf.xacro</a>, and modify its content to include your plugin:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">&lt;</span><span class=\"n\">robot</span> <span class=\"nl\">xmlns</span><span class=\"p\">:</span><span class=\"n\">xacro</span><span class=\"o\">=</span><span class=\"s\">&quot;http://www.ros.org/wiki/xacro&quot;</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;atlas&quot;</span> <span class=\"o\">&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find atlas_description)/urdf/atlas_v3.urdf&quot;</span> <span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find sandia_hand_description)/urdf/sandia_hand_simple_shapes.urdf.xacro&quot;</span> <span class=\"o\">/&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span> <span class=\"n\">side</span><span class=\"o\">=</span><span class=\"s\">&quot;right&quot;</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"s\">&quot;r_hand&quot;</span> <span class=\"n\">reflect</span><span class=\"o\">=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"n\">joint_type</span><span class=\"o\">=</span><span class=\"s\">&quot;revolute&quot;</span> <span class=\"n\">thumb_angle</span><span class=\"o\">=</span><span class=\"s\">&quot;0&quot;</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">origin</span> <span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"s\">&quot;-0.00179 -0.13516 0.01176&quot;</span> <span class=\"n\">rpy</span><span class=\"o\">=</span><span class=\"s\">&quot;0 0 -1.57079&quot;</span><span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span> <span class=\"n\">side</span><span class=\"o\">=</span><span class=\"s\">&quot;left&quot;</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"s\">&quot;l_hand&quot;</span> <span class=\"n\">reflect</span><span class=\"o\">=</span><span class=\"s\">&quot;-1&quot;</span> <span class=\"n\">joint_type</span><span class=\"o\">=</span><span class=\"s\">&quot;revolute&quot;</span> <span class=\"n\">thumb_angle</span><span class=\"o\">=</span><span class=\"s\">&quot;0&quot;</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">origin</span> <span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"s\">&quot;0.00179  0.13516 0.01176&quot;</span> <span class=\"n\">rpy</span><span class=\"o\">=</span><span class=\"s\">&quot;0 0  1.57079&quot;</span><span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span><span class=\"o\">&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find atlas_description)/urdf/atlas_v3.gazebo&quot;</span> <span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find atlas_description)/urdf/atlas_v3.transmission&quot;</span> <span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find multisense_sl_description)/urdf/multisense_sl_v3.urdf&quot;</span> <span class=\"o\">/&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"n\">gazebo</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;!--</span> <span class=\"n\">include</span> <span class=\"n\">plugin</span> <span class=\"k\">for</span> <span class=\"n\">sandia</span> <span class=\"n\">hands</span> <span class=\"o\">--&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">plugin</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;sandia_hand_plugin&quot;</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;libSandiaHandPlugin.so&quot;</span><span class=\"o\">/&gt;</span>\n\n    <span class=\"o\">&lt;!--</span> <span class=\"n\">custom</span> <span class=\"n\">plugin</span> <span class=\"o\">--&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">plugin</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;[my plugin]&quot;</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;lib[My Plugin].so&quot;</span><span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"n\">gazebo</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">robot</span><span class=\"o\">&gt;</span>\n</pre></div>\n\n\n<p>Of course, this is not as clean if you have installed from deb, requiring root access to modify things in <code>/opt/ros/groovy[hydro]/share/atlas_description/robots/*.xacro</code>.  </p>\n<p>Another way is to create your own ROS package:</p>\n<div class=\"codehilite\"><pre><span></span>mkdir ~/drcsim_ws\ncd ~/drcsim_ws\nroscreate-pkg atlas_ihmc_gazebo atlas_description drcsim_gazebo\n</pre></div>\n\n\n<p>Prepend your new package path to <code>ROS_PACKAGE_PATH</code></p>\n<div class=\"codehilite\"><pre><span></span>export ROS_PACKAGE_PATH=~/drcsim_ws:<span class=\"cp\">${</span><span class=\"n\">ROS_PACKAGE_PATH</span><span class=\"cp\">}</span>\n</pre></div>\n\n\n<p>Copy launch files from <code>drcsim_gazebo/launch/atlas_v3_sandia_hands.launch</code> and   rename reference to <code>atlas_description</code> to <code>atlas_ihmc_description/robots</code> as such:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;launch&gt;</span>\n\n  <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gzname&quot;</span> <span class=\"na\">default=</span><span class=\"s\">&quot;gazebo&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gzworld&quot;</span> <span class=\"na\">default=</span><span class=\"s\">&quot;atlas_sandia_hands.world&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;hand_suffix&quot;</span> <span class=\"na\">default=</span><span class=\"s\">&quot;&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;extra_gazebo_args&quot;</span> <span class=\"na\">default=</span><span class=\"s\">&quot;-q&quot;</span> <span class=\"nt\">/&gt;</span>\n\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;/atlas/time_to_unpin&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1.0&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;/atlas/startup_mode&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;string&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;bdi_stand&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"c\">&lt;!-- &lt;param name=&quot;/atlas/startup_mode&quot; type=&quot;string&quot; value=&quot;pinned&quot;/&gt; --&gt;</span>\n\n  <span class=\"c\">&lt;!-- start gazebo with the Atlas --&gt;</span>\n  <span class=\"nt\">&lt;include</span> <span class=\"na\">file=</span><span class=\"s\">&quot;$(find drcsim_gazebo)/launch/atlas_no_controllers.launch&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gzname&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg gzname)&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gzworld&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg gzworld)&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;extra_gazebo_args&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg extra_gazebo_args)&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/include&gt;</span>\n\n  <span class=\"c\">&lt;!-- to trigger synchronization delay, set</span>\n<span class=\"c\">       atlas_msgs::AtlasCommand::desired_controller_period_ms to non-zero --&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;/atlas/delay_window_size&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;5.0&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;/atlas/delay_max_per_window&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;0.25&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;/atlas/delay_max_per_step&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;0.025&quot;</span><span class=\"nt\">/&gt;</span>\n\n  <span class=\"c\">&lt;!-- Robot Description --&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_description&quot;</span> <span class=\"na\">command=</span><span class=\"s\">&quot;$(find xacro)/xacro.py &#39;$(find atlas_ihmc_description)/robots/atlas_v3_sandia_hands.urdf.xacro&#39;&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_initial_pose/x&quot;</span>     <span class=\"na\">value=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_initial_pose/y&quot;</span>     <span class=\"na\">value=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_initial_pose/z&quot;</span>     <span class=\"na\">value=</span><span class=\"s\">&quot;0.95&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_initial_pose/roll&quot;</span>  <span class=\"na\">value=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_initial_pose/pitch&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot_initial_pose/yaw&quot;</span>   <span class=\"na\">value=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span><span class=\"nt\">/&gt;</span>\n\n  <span class=\"nt\">&lt;include</span> <span class=\"na\">file=</span><span class=\"s\">&quot;$(find drcsim_gazebo)/launch/atlas_v3_sandia_hands_bringup.launch&quot;</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/launch&gt;</span>\n</pre></div>\n\n\n<p>Also copy robot xacro file from <code>atlas_description/robots/atlas_v3_sandia_hands.launch</code> into your new package and add a line to include the custom plugin as such:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">&lt;</span><span class=\"n\">robot</span> <span class=\"nl\">xmlns</span><span class=\"p\">:</span><span class=\"n\">xacro</span><span class=\"o\">=</span><span class=\"s\">&quot;http://www.ros.org/wiki/xacro&quot;</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;atlas&quot;</span> <span class=\"o\">&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find atlas_description)/urdf/atlas_v3.urdf&quot;</span> <span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find sandia_hand_description)/urdf/sandia_hand_simple_shapes.urdf.xacro&quot;</span> <span class=\"o\">/&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span> <span class=\"n\">side</span><span class=\"o\">=</span><span class=\"s\">&quot;right&quot;</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"s\">&quot;r_hand&quot;</span> <span class=\"n\">reflect</span><span class=\"o\">=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"n\">joint_type</span><span class=\"o\">=</span><span class=\"s\">&quot;revolute&quot;</span> <span class=\"n\">thumb_angle</span><span class=\"o\">=</span><span class=\"s\">&quot;0&quot;</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">origin</span> <span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"s\">&quot;-0.00179 -0.13516 0.01176&quot;</span> <span class=\"n\">rpy</span><span class=\"o\">=</span><span class=\"s\">&quot;0 0 -1.57079&quot;</span><span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span> <span class=\"n\">side</span><span class=\"o\">=</span><span class=\"s\">&quot;left&quot;</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"s\">&quot;l_hand&quot;</span> <span class=\"n\">reflect</span><span class=\"o\">=</span><span class=\"s\">&quot;-1&quot;</span> <span class=\"n\">joint_type</span><span class=\"o\">=</span><span class=\"s\">&quot;revolute&quot;</span> <span class=\"n\">thumb_angle</span><span class=\"o\">=</span><span class=\"s\">&quot;0&quot;</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">origin</span> <span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"s\">&quot;0.00179  0.13516 0.01176&quot;</span> <span class=\"n\">rpy</span><span class=\"o\">=</span><span class=\"s\">&quot;0 0  1.57079&quot;</span><span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">sandia_hand</span><span class=\"o\">&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find atlas_description)/urdf/atlas_v3.gazebo&quot;</span> <span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find atlas_description)/urdf/atlas_v3.transmission&quot;</span> <span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nl\">xacro</span><span class=\"p\">:</span><span class=\"n\">include</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;$(find multisense_sl_description)/urdf/multisense_sl_v3.urdf&quot;</span> <span class=\"o\">/&gt;</span>\n\n  <span class=\"o\">&lt;</span><span class=\"n\">gazebo</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;!--</span> <span class=\"n\">include</span> <span class=\"n\">plugin</span> <span class=\"k\">for</span> <span class=\"n\">sandia</span> <span class=\"n\">hands</span> <span class=\"o\">--&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">plugin</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;sandia_hand_plugin&quot;</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;libSandiaHandPlugin.so&quot;</span><span class=\"o\">/&gt;</span>\n\n    <span class=\"o\">&lt;!--</span> <span class=\"n\">custom</span> <span class=\"n\">plugin</span> <span class=\"o\">--&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">plugin</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;[my plugin]&quot;</span> <span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s\">&quot;lib[My Plugin].so&quot;</span><span class=\"o\">/&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"n\">gazebo</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">robot</span><span class=\"o\">&gt;</span>\n</pre></div>\n\n\n<p>One of the two above options should work (note: untested), while we try to come up with a cleaner solution.</p>", "type": "rendered"}, "created_on": "2013-10-14T01:36:31.489676+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-10-14T01:38:37.264313+00:00", "type": "issue_comment", "id": 6451526}