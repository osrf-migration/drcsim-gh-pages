{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "links": {"attachments": {"href": "data/repositories/osrf/drcsim/issues/166/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/drcsim/issues/166.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/issues/166/watch"}, "comments": {"href": "data/repositories/osrf/drcsim/issues/166/comments_page=1.json"}, "html": {"href": "#!/osrf/drcsim/issues/166/increase-number-of-iterations-in-vrc"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/issues/166/vote"}}, "reporter": {"display_name": "Jesper Smith", "uuid": "{61d9fe7d-e554-408c-99fb-faefa9c96114}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D"}, "html": {"href": "https://bitbucket.org/%7B61d9fe7d-e554-408c-99fb-faefa9c96114%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56b6560717cfbb0f4a2cc0af6e638650d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJS-4.png"}}, "nickname": "jespersmith", "type": "user", "account_id": "557058:2e842f1c-d9d5-48b1-88ae-5dd9e81a6f77"}, "title": "Increase number of iterations in VRC worlds", "component": null, "votes": 0, "watches": 2, "content": {"raw": "In the VRC qualification worlds, the number of iterations for the ODE engine is set to 40. Increasing this number to 50 leads to large improvements for our walking controller, while not greatly impacting the simulation speed.\r\n\r\nIt seems that the default Gazebo settings for the physics engine have better performance than the settings in the VRC worlds, aka\r\n\r\n```\r\n#!xml\r\n\r\n<ode>\r\n        <solver>\r\n          <type>quick</type>\r\n          <dt>0.001</dt>\r\n          <iters>50</iters>\r\n          <sor>1.0</sor>\r\n        </solver>\r\n        <constraints>\r\n          <cfm>0.0</cfm>\r\n          <erp>0.2</erp>\r\n          <contact_max_correcting_vel>100.0</contact_max_correcting_vel>\r\n          <contact_surface_layer>0.0</contact_surface_layer>\r\n        </constraints>\r\n      </ode>\r\n\r\n\r\n\r\n```\r\nI propose that it gets changed to the gazebo defaults for now.\r\n```\r\n#!xml\r\n\r\n<ode>\r\n        <solver>\r\n          <type>quick</type>\r\n          <dt>0.001</dt>\r\n          <iters>50</iters>\r\n          <sor>1.3</sor>\r\n        </solver>\r\n        <constraints>\r\n          <cfm>0.0</cfm>\r\n          <erp>0.2</erp>\r\n          <contact_max_correcting_vel>100.0</contact_max_correcting_vel>\r\n          <contact_surface_layer>0.001</contact_surface_layer>\r\n        </constraints>\r\n      </ode>\r\n```\r\n\r\nI do think more testing is necessary  for the final parameters of the physics engine.\r\n\r\n", "markup": "markdown", "html": "<p>In the VRC qualification worlds, the number of iterations for the ODE engine is set to 40. Increasing this number to 50 leads to large improvements for our walking controller, while not greatly impacting the simulation speed.</p>\n<p>It seems that the default Gazebo settings for the physics engine have better performance than the settings in the VRC worlds, aka</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;ode&gt;</span>\n        <span class=\"nt\">&lt;solver&gt;</span>\n          <span class=\"nt\">&lt;type&gt;</span>quick<span class=\"nt\">&lt;/type&gt;</span>\n          <span class=\"nt\">&lt;dt&gt;</span>0.001<span class=\"nt\">&lt;/dt&gt;</span>\n          <span class=\"nt\">&lt;iters&gt;</span>50<span class=\"nt\">&lt;/iters&gt;</span>\n          <span class=\"nt\">&lt;sor&gt;</span>1.0<span class=\"nt\">&lt;/sor&gt;</span>\n        <span class=\"nt\">&lt;/solver&gt;</span>\n        <span class=\"nt\">&lt;constraints&gt;</span>\n          <span class=\"nt\">&lt;cfm&gt;</span>0.0<span class=\"nt\">&lt;/cfm&gt;</span>\n          <span class=\"nt\">&lt;erp&gt;</span>0.2<span class=\"nt\">&lt;/erp&gt;</span>\n          <span class=\"nt\">&lt;contact_max_correcting_vel&gt;</span>100.0<span class=\"nt\">&lt;/contact_max_correcting_vel&gt;</span>\n          <span class=\"nt\">&lt;contact_surface_layer&gt;</span>0.0<span class=\"nt\">&lt;/contact_surface_layer&gt;</span>\n        <span class=\"nt\">&lt;/constraints&gt;</span>\n      <span class=\"nt\">&lt;/ode&gt;</span>\n</pre></div>\n\n\n<p>I propose that it gets changed to the gazebo defaults for now.</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;ode&gt;</span>\n        <span class=\"nt\">&lt;solver&gt;</span>\n          <span class=\"nt\">&lt;type&gt;</span>quick<span class=\"nt\">&lt;/type&gt;</span>\n          <span class=\"nt\">&lt;dt&gt;</span>0.001<span class=\"nt\">&lt;/dt&gt;</span>\n          <span class=\"nt\">&lt;iters&gt;</span>50<span class=\"nt\">&lt;/iters&gt;</span>\n          <span class=\"nt\">&lt;sor&gt;</span>1.3<span class=\"nt\">&lt;/sor&gt;</span>\n        <span class=\"nt\">&lt;/solver&gt;</span>\n        <span class=\"nt\">&lt;constraints&gt;</span>\n          <span class=\"nt\">&lt;cfm&gt;</span>0.0<span class=\"nt\">&lt;/cfm&gt;</span>\n          <span class=\"nt\">&lt;erp&gt;</span>0.2<span class=\"nt\">&lt;/erp&gt;</span>\n          <span class=\"nt\">&lt;contact_max_correcting_vel&gt;</span>100.0<span class=\"nt\">&lt;/contact_max_correcting_vel&gt;</span>\n          <span class=\"nt\">&lt;contact_surface_layer&gt;</span>0.001<span class=\"nt\">&lt;/contact_surface_layer&gt;</span>\n        <span class=\"nt\">&lt;/constraints&gt;</span>\n      <span class=\"nt\">&lt;/ode&gt;</span>\n</pre></div>\n\n\n<p>I do think more testing is necessary  for the final parameters of the physics engine.</p>", "type": "rendered"}, "assignee": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-03-27T21:56:47.316077+00:00", "milestone": null, "updated_on": "2013-05-06T04:03:13.406391+00:00", "type": "issue", "id": 166}