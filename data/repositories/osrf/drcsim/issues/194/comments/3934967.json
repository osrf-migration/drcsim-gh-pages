{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/194/comments/3934967.json"}, "html": {"href": "#!/osrf/drcsim/issues/194#comment-3934967"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/194.json"}}, "type": "issue", "id": 194, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Joint damping coefficients are enormous"}, "content": {"raw": "I agree that we should ultimately use measured hardware damping coefficients in our model, but given the short time span to VRC, the fact that lowering the damping coefficient in `lhy` joint causes simulation noise to destabilize current implementation of BDI dynamic controller (**lowering joint damping coefficient introduces more simulation joint velocity noise, such that when exiting dynamic WALK behavior, there's a higher chance of robot falling over when returning to STAND mode.  Though this might be improved by filtering joint velocity (pull request #260) or tuning stepping parameters in `AtlasSimInterfaceCommand`**) and the desire to keep simulation performance near real-time while maintaining overall simulation stability, I'd rather keep the final values in pull request #243 for VRC.\n\nOne thing we can try here is implementing force torque sensors at the joints with large damping values (lhy, mhx and uhz) and report the torque values as efforts in the state feedback.  Will that be helpful?", "markup": "markdown", "html": "<p>I agree that we should ultimately use measured hardware damping coefficients in our model, but given the short time span to VRC, the fact that lowering the damping coefficient in <code>lhy</code> joint causes simulation noise to destabilize current implementation of BDI dynamic controller (<strong>lowering joint damping coefficient introduces more simulation joint velocity noise, such that when exiting dynamic WALK behavior, there's a higher chance of robot falling over when returning to STAND mode.  Though this might be improved by filtering joint velocity (<a href=\"#!/osrf/drcsim/pull-requests/260/butterworth-filter-for-velocity-and\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #260</a>) or tuning stepping parameters in <code>AtlasSimInterfaceCommand</code></strong>) and the desire to keep simulation performance near real-time while maintaining overall simulation stability, I'd rather keep the final values in <a href=\"#!/osrf/drcsim/pull-requests/243/raise-atlas-joint-viscous-damping-from-01\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #243</a> for VRC.</p>\n<p>One thing we can try here is implementing force torque sensors at the joints with large damping values (lhy, mhx and uhz) and report the torque values as efforts in the state feedback.  Will that be helpful?</p>", "type": "rendered"}, "created_on": "2013-05-01T23:22:29.654064+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-05-06T18:45:13.123870+00:00", "type": "issue_comment", "id": 3934967}