{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/492/comments/17354531.json"}, "html": {"href": "#!/osrf/drcsim/issues/492#comment-17354531"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/492.json"}}, "type": "issue", "id": 492, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "Model for left arm is wrong in v4 (and has always been wrong)"}, "content": {"raw": "We have the new forearms now, and at first glance everything seems OK for us using the new v5 model. The zero pose and the direction in which the joints move (i.e. the joint axes) match between the physical robot and our visualization. Unfortunately everybody does their own modifications to the urdf, so it's hard to figure out what's wrong for the others.\n\nAs for the top things that I thought might be wrong:\n\n* whether it's still necessary to rotate the visual of the r_lfarm link: I really can't tell the difference because it seems completely symmetric, so either way is fine I think.\n* whether or not the wry2 joint axis needs to be inverted, I guess this is what @mdedonato was referring to, correct? It seems to match the physical robot, i.e. both wry2 joints rotate 'inward' (pronate) if the velocity is positive. Is that not what you're seeing?\n\n@dljsjr,\n> Something in the v5 arms is definitely wrong, we just aren't sure what yet. The hand mounting looks fine in the zero pose but as the robot moves around visualization is incorrect. So there's probably a flipped axis or something.\n\nHave you figured out what the cause of the visualization weirdness was?\n\n@dljsjr,\n> Using Twan's V5 .URDF, we can generate a model with this configuration in the zero pose. But when we convert to .sdf and load this model in to our visualization software and run the real robot, there is a ~90\u00ba offset on the left hand.\n\nThis sounds like a different issue, what's the status on this one?", "markup": "markdown", "html": "<p>We have the new forearms now, and at first glance everything seems OK for us using the new v5 model. The zero pose and the direction in which the joints move (i.e. the joint axes) match between the physical robot and our visualization. Unfortunately everybody does their own modifications to the urdf, so it's hard to figure out what's wrong for the others.</p>\n<p>As for the top things that I thought might be wrong:</p>\n<ul>\n<li>whether it's still necessary to rotate the visual of the r_lfarm link: I really can't tell the difference because it seems completely symmetric, so either way is fine I think.</li>\n<li>whether or not the wry2 joint axis needs to be inverted, I guess this is what @mdedonato was referring to, correct? It seems to match the physical robot, i.e. both wry2 joints rotate 'inward' (pronate) if the velocity is positive. Is that not what you're seeing?</li>\n</ul>\n<p>@dljsjr,</p>\n<blockquote>\n<p>Something in the v5 arms is definitely wrong, we just aren't sure what yet. The hand mounting looks fine in the zero pose but as the robot moves around visualization is incorrect. So there's probably a flipped axis or something.</p>\n</blockquote>\n<p>Have you figured out what the cause of the visualization weirdness was?</p>\n<p>@dljsjr,</p>\n<blockquote>\n<p>Using Twan's V5 .URDF, we can generate a model with this configuration in the zero pose. But when we convert to .sdf and load this model in to our visualization software and run the real robot, there is a ~90\u00ba offset on the left hand.</p>\n</blockquote>\n<p>This sounds like a different issue, what's the status on this one?</p>", "type": "rendered"}, "created_on": "2015-04-13T18:35:27.214436+00:00", "user": {"display_name": "Twan Koolen", "uuid": "{2d5c2bff-dbd5-48c6-9467-a28e598f2ad2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2d5c2bff-dbd5-48c6-9467-a28e598f2ad2%7D"}, "html": {"href": "https://bitbucket.org/%7B2d5c2bff-dbd5-48c6-9467-a28e598f2ad2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/c9a855f23543778ac9e3536505f615d3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTK-3.png"}}, "nickname": "tkoolen", "type": "user", "account_id": "5b9ac9a79d17912bf10b2b7e"}, "updated_on": "2015-04-13T21:43:44.481003+00:00", "type": "issue_comment", "id": 17354531}