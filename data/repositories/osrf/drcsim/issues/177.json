{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "links": {"attachments": {"href": "data/repositories/osrf/drcsim/issues/177/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/drcsim/issues/177.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/issues/177/watch"}, "comments": {"href": "data/repositories/osrf/drcsim/issues/177/comments_page=1.json"}, "html": {"href": "#!/osrf/drcsim/issues/177/parser-for-atlasurdf-file-failed-for"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/drcsim/issues/177/vote"}}, "reporter": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "title": "Parser for atlas.urdf file failed for drcsim_2.3 branch", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When testing the drcsim_2.3 branch, compiled and installed from source against binary packages (gazebo-1.6.1-2) in a precise ubuntu 64bits,  to verify the [fix for Atlas walking demo]( http://answers.gazebosim.org/question/2274/atlas-failing-in-boston-dynamics-controller-demo/) the launch command:\r\n\r\n``` \r\nroslaunch atlas_utils atlas.launch gzworld:=atlas_AtlasSimInterface.world\r\n```\r\n\r\nwith the following lines:\r\n\r\n```\r\nError [parser.cc:719] XML Element[noise], child of element[camera] not defined in SDF. Ignoring.[camera]\r\nError [parser.cc:710] Error reading element <camera>\r\nError [parser.cc:710] Error reading element <sensor>\r\nError [parser.cc:710] Error reading element <link>\r\nError [parser.cc:710] Error reading element <model>\r\nError [parser.cc:369] Unable to read element <sdf>\r\nError [parser.cc:291] parse as old deprecated model file failed.\r\nError [parser.cc:636] Unable to read file[/usr/share/drcsim-2.3/gazebo_models/atlas_description/atlas/atlas.urdf]\r\nError [parser.cc:710] Error reading element <world>\r\nError [parser.cc:369] Unable to read element <sdf>\r\nError:   Could not find the 'robot' element in the xml file\r\n         at line 61 in /tmp/buildd/ros-fuerte-urdfdom-0.2.3-3precise-20130312-1500/urdf_parser/src/model.cpp\r\nError [parser_urdf.cc:1686] Unable to call parseURDF on robot model\r\nWarning [parser.cc:377] SDF has no <sdf> element in file[urdf file]\r\nError [parser.cc:291] parse as old deprecated model file failed.\r\nError [Server.cc:253] Unable to read sdf file[atlas_AtlasSimInterface.world]\r\n\r\nError [ConnectionManager.cc:100] Connection Manager is not running\r\n```\r\n\r\nI've check that the same command works with drcsim_2.3.0-3 binary package. Source code was installed using  /usr as CMAKE_INSTALL_PREFIX and file */usr/share/drcsim-2.3/gazebo_models/atlas_description/atlas/atlas.urdf* exists.", "markup": "markdown", "html": "<p>When testing the drcsim_2.3 branch, compiled and installed from source against binary packages (gazebo-1.6.1-2) in a precise ubuntu 64bits,  to verify the <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/2274/atlas-failing-in-boston-dynamics-controller-demo/\" rel=\"nofollow\">fix for Atlas walking demo</a> the launch command:</p>\n<div class=\"codehilite\"><pre><span></span>roslaunch atlas_utils atlas.launch gzworld:=atlas_AtlasSimInterface.world\n</pre></div>\n\n\n<p>with the following lines:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">719</span><span class=\"p\">]</span> <span class=\"n\">XML</span> <span class=\"n\">Element</span><span class=\"p\">[</span><span class=\"n\">noise</span><span class=\"p\">],</span> <span class=\"n\">child</span> <span class=\"n\">of</span> <span class=\"n\">element</span><span class=\"p\">[</span><span class=\"n\">camera</span><span class=\"p\">]</span> <span class=\"n\">not</span> <span class=\"n\">defined</span> <span class=\"k\">in</span> <span class=\"n\">SDF</span><span class=\"p\">.</span> <span class=\"n\">Ignoring</span><span class=\"p\">.[</span><span class=\"n\">camera</span><span class=\"p\">]</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">710</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"n\">reading</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">camera</span><span class=\"o\">&gt;</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">710</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"n\">reading</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">sensor</span><span class=\"o\">&gt;</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">710</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"n\">reading</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">link</span><span class=\"o\">&gt;</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">710</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"n\">reading</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">model</span><span class=\"o\">&gt;</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">369</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">read</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">sdf</span><span class=\"o\">&gt;</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">291</span><span class=\"p\">]</span> <span class=\"n\">parse</span> <span class=\"n\">as</span> <span class=\"n\">old</span> <span class=\"n\">deprecated</span> <span class=\"n\">model</span> <span class=\"n\">file</span> <span class=\"n\">failed</span><span class=\"p\">.</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">636</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">read</span> <span class=\"n\">file</span><span class=\"p\">[</span><span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">share</span><span class=\"o\">/</span><span class=\"n\">drcsim</span><span class=\"o\">-</span><span class=\"mf\">2.3</span><span class=\"o\">/</span><span class=\"n\">gazebo_models</span><span class=\"o\">/</span><span class=\"n\">atlas_description</span><span class=\"o\">/</span><span class=\"n\">atlas</span><span class=\"o\">/</span><span class=\"n\">atlas</span><span class=\"p\">.</span><span class=\"n\">urdf</span><span class=\"p\">]</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">710</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"n\">reading</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">world</span><span class=\"o\">&gt;</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">369</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">read</span> <span class=\"n\">element</span> <span class=\"o\">&lt;</span><span class=\"n\">sdf</span><span class=\"o\">&gt;</span>\n<span class=\"nl\">Error</span><span class=\"p\">:</span>   <span class=\"n\">Could</span> <span class=\"n\">not</span> <span class=\"n\">find</span> <span class=\"n\">the</span> <span class=\"err\">&#39;</span><span class=\"n\">robot</span><span class=\"err\">&#39;</span> <span class=\"n\">element</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">xml</span> <span class=\"n\">file</span>\n         <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">61</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">tmp</span><span class=\"o\">/</span><span class=\"n\">buildd</span><span class=\"o\">/</span><span class=\"n\">ros</span><span class=\"o\">-</span><span class=\"n\">fuerte</span><span class=\"o\">-</span><span class=\"n\">urdfdom</span><span class=\"o\">-</span><span class=\"mf\">0.2.3</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">precise</span><span class=\"o\">-</span><span class=\"mi\">20130312</span><span class=\"o\">-</span><span class=\"mi\">1500</span><span class=\"o\">/</span><span class=\"n\">urdf_parser</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">model</span><span class=\"p\">.</span><span class=\"n\">cpp</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser_urdf</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">1686</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">call</span> <span class=\"n\">parseURDF</span> <span class=\"n\">on</span> <span class=\"n\">robot</span> <span class=\"n\">model</span>\n<span class=\"n\">Warning</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">377</span><span class=\"p\">]</span> <span class=\"n\">SDF</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"o\">&lt;</span><span class=\"n\">sdf</span><span class=\"o\">&gt;</span> <span class=\"n\">element</span> <span class=\"k\">in</span> <span class=\"n\">file</span><span class=\"p\">[</span><span class=\"n\">urdf</span> <span class=\"n\">file</span><span class=\"p\">]</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">291</span><span class=\"p\">]</span> <span class=\"n\">parse</span> <span class=\"n\">as</span> <span class=\"n\">old</span> <span class=\"n\">deprecated</span> <span class=\"n\">model</span> <span class=\"n\">file</span> <span class=\"n\">failed</span><span class=\"p\">.</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">Server</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">253</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">read</span> <span class=\"n\">sdf</span> <span class=\"n\">file</span><span class=\"p\">[</span><span class=\"n\">atlas_AtlasSimInterface</span><span class=\"p\">.</span><span class=\"n\">world</span><span class=\"p\">]</span>\n\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">ConnectionManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">100</span><span class=\"p\">]</span> <span class=\"n\">Connection</span> <span class=\"n\">Manager</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">running</span>\n</pre></div>\n\n\n<p>I've check that the same command works with drcsim_2.3.0-3 binary package. Source code was installed using  /usr as CMAKE_INSTALL_PREFIX and file <em>/usr/share/drcsim-2.3/gazebo_models/atlas_description/atlas/atlas.urdf</em> exists.</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": null, "edited_on": null, "created_on": "2013-04-09T00:28:59.175853+00:00", "milestone": null, "updated_on": "2013-04-09T10:00:55.512434+00:00", "type": "issue", "id": 177}