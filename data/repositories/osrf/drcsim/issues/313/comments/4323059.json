{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/313/comments/4323059.json"}, "html": {"href": "#!/osrf/drcsim/issues/313#comment-4323059"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/313.json"}}, "type": "issue", "id": 313, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "/atlas/set_pose causing vrc_task_2_scoring.test failure with nan's"}, "content": {"raw": "I have run gzclient to watch a few of the vrc_task_2_scoring runs, which uses the `/atlas/set_pose` topic to teleport atlas through the gates. In the few times that I've watched it, I've observed that the teleporting occasionally gives strange impulses to Atlas, causing it to fly around or spin.\n\nThe set_pose topic calls [VRCPlugin::SetRobotPose](#!/osrf/drcsim/src/826552d800ba1fd84554b7f46f9757249f663565/ros/atlas_msgs/VRCPlugin.cpp?at=default#cl-370), which directly calls `this->atlas.model->SetWorldPose`. Some of the other functions in VRCPlugin, such as [RobotEnterCar](#!/osrf/drcsim/src/826552d800ba1fd84554b7f46f9757249f663565/ros/atlas_msgs/VRCPlugin.cpp?at=default#cl-469) make sure to pause and disable physics before calling SetWorldPose functions.\n\nI highly suspect this issue is caused by a buggy implementation of the /atlas/set_pose cheat.", "markup": "markdown", "html": "<p>I have run gzclient to watch a few of the vrc_task_2_scoring runs, which uses the <code>/atlas/set_pose</code> topic to teleport atlas through the gates. In the few times that I've watched it, I've observed that the teleporting occasionally gives strange impulses to Atlas, causing it to fly around or spin.</p>\n<p>The set_pose topic calls <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/826552d800ba1fd84554b7f46f9757249f663565/ros/atlas_msgs/VRCPlugin.cpp?at=default#cl-370\" rel=\"nofollow\">VRCPlugin::SetRobotPose</a>, which directly calls <code>this-&gt;atlas.model-&gt;SetWorldPose</code>. Some of the other functions in VRCPlugin, such as <a data-is-external-link=\"true\" href=\"#!/osrf/drcsim/src/826552d800ba1fd84554b7f46f9757249f663565/ros/atlas_msgs/VRCPlugin.cpp?at=default#cl-469\" rel=\"nofollow\">RobotEnterCar</a> make sure to pause and disable physics before calling SetWorldPose functions.</p>\n<p>I highly suspect this issue is caused by a buggy implementation of the /atlas/set_pose cheat.</p>", "type": "rendered"}, "created_on": "2013-06-03T21:54:00.152414+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 4323059}