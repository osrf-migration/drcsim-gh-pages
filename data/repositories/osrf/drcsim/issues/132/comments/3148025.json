{"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/132/comments/3148025.json"}, "html": {"href": "#!/osrf/drcsim/issues/132#comment-3148025"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/drcsim/issues/132.json"}}, "type": "issue", "id": 132, "repository": {"links": {"self": {"href": "data/repositories/osrf/drcsim.json"}, "html": {"href": "#!/osrf/drcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{247b5408-ae91-4e3c-b2f9-a21994658d11}ts=c_plus_plus"}}, "type": "repository", "name": "drcsim", "full_name": "osrf/drcsim", "uuid": "{247b5408-ae91-4e3c-b2f9-a21994658d11}"}, "title": "joint command message not interpreted properly"}, "content": {"raw": "Actually I was going to open a ticket proposing to remove the \"name\" field given that it's not being used and only adds a ton of network traffic on top of it. /atlas/joint_states consumes ~1MB/s - more than 25% of which (~0.26MB/s) is due to the name strings being sent. \n\nThe two sandia hands together are an additional ~0.960MB/s of which ~0.25MB/s is consumed for sending string identifiers.\n\nSo the network is loaded with an **additional 0.51MB/s** that aren't even used anywhere. And this only considers the traffic COMING from the robot, so assuming an external controller rate of 500HZ you have a total of  **0.765MB/s spent on just names**.\n\nEven if there is a need for providing identifiers for each joint in order to support random ordering then a more memory efficient solution would be much more efficient - there is no need for using strings other than for the user being able to read the full name while echoing messages (after getting used to the cryptic naming scheme).\n\nThe Atlas Plugin requires the whole joint message to be filled (e.g. when you only send a command for one joint it gets ignored) so having the \"names\" field is redundant.\n\nIs there any need for filling the joint state message in random order? If not then it would probably be better to drop those >0.5MB/s and reduce network traffic (and possibly enable a higher controller frequency?).\nAnd even if there is a need for random ordering then the name field should be reduced to use 1 char per joint identifier instead of 9.4 on average.", "markup": "markdown", "html": "<p>Actually I was going to open a ticket proposing to remove the \"name\" field given that it's not being used and only adds a ton of network traffic on top of it. /atlas/joint_states consumes ~1MB/s - more than 25% of which (~0.26MB/s) is due to the name strings being sent. </p>\n<p>The two sandia hands together are an additional ~0.960MB/s of which ~0.25MB/s is consumed for sending string identifiers.</p>\n<p>So the network is loaded with an <strong>additional 0.51MB/s</strong> that aren't even used anywhere. And this only considers the traffic COMING from the robot, so assuming an external controller rate of 500HZ you have a total of  <strong>0.765MB/s spent on just names</strong>.</p>\n<p>Even if there is a need for providing identifiers for each joint in order to support random ordering then a more memory efficient solution would be much more efficient - there is no need for using strings other than for the user being able to read the full name while echoing messages (after getting used to the cryptic naming scheme).</p>\n<p>The Atlas Plugin requires the whole joint message to be filled (e.g. when you only send a command for one joint it gets ignored) so having the \"names\" field is redundant.</p>\n<p>Is there any need for filling the joint state message in random order? If not then it would probably be better to drop those &gt;0.5MB/s and reduce network traffic (and possibly enable a higher controller frequency?).\nAnd even if there is a need for random ordering then the name field should be reduced to use 1 char per joint identifier instead of 9.4 on average.</p>", "type": "rendered"}, "created_on": "2013-02-15T19:41:50.172954+00:00", "user": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 3148025}